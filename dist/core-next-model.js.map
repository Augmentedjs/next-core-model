{"version":3,"sources":["webpack://core-next-model/webpack/universalModuleDefinition","webpack://core-next-model/webpack/bootstrap","webpack://core-next-model/external {\"commonjs\":\"lodash.clone\",\"commonjs2\":\"lodash.clone\",\"amd\":\"lodash.clone\",\"root\":\"lodash.clone\"}","webpack://core-next-model/./src/model/abstractModel.js","webpack://core-next-model/webpack://next-core-object/webpack/universalModuleDefinition","webpack://core-next-model/webpack://next-core-object/webpack/bootstrap","webpack://core-next-model/webpack://next-core-object/src/events.js","webpack://core-next-model/webpack://next-core-object/src/index.js","webpack://core-next-model/webpack://next-core-object/src/object.js","webpack://core-next-model/webpack://next-core-object/node_modules/next-core-utilities/dist/next-core-utilities.js","webpack://core-next-model/webpack:/next-core-object/external {\"commonjs\":\"lodash.bind\",\"commonjs2\":\"lodash.bind\",\"amd\":\"lodash.bind\",\"root\":\"lodash.bind\"}","webpack://core-next-model/webpack://next-core-object/src/configuration.js","webpack://core-next-model/webpack://next-core-utilities/webpack/universalModuleDefinition","webpack://core-next-model/webpack://next-core-utilities/webpack/bootstrap","webpack://core-next-model/webpack://next-core-utilities/src/isObject.js","webpack://core-next-model/webpack://next-core-utilities/src/isFunction.js","webpack://core-next-model/webpack://next-core-utilities/src/before.js","webpack://core-next-model/webpack://next-core-utilities/src/index.js","webpack://core-next-model/webpack://next-core-utilities/src/isString.js","webpack://core-next-model/webpack://next-core-utilities/src/extend.js","webpack://core-next-model/webpack://next-core-utilities/src/pad.js","webpack://core-next-model/webpack://next-core-utilities/src/uniqueId.js","webpack://core-next-model/webpack://next-core-utilities/src/has.js","webpack://core-next-model/webpack://next-core-utilities/src/allKeys.js","webpack://core-next-model/webpack://next-core-utilities/src/create.js","webpack://core-next-model/webpack://next-core-utilities/src/result.js","webpack://core-next-model/webpack://next-core-utilities/src/arrayHas.js","webpack://core-next-model/webpack://next-core-utilities/src/exec.js","webpack://core-next-model/webpack://next-core-utilities/src/isDefined.js","webpack://core-next-model/webpack://next-core-utilities/src/some.js","webpack://core-next-model/webpack://next-core-utilities/src/splice.js","webpack://core-next-model/webpack://next-core-utilities/src/once.js","webpack://core-next-model/webpack://next-core-utilities/src/fibonacci.js","webpack://core-next-model/webpack://next-core-utilities/src/utility.js","webpack://core-next-model/webpack://next-core-utilities/src/sort.js","webpack://core-next-model/webpack://next-core-utilities/src/formatDate.js","webpack://core-next-model/webpack://next-core-utilities/src/formatBinary.js","webpack://core-next-model/webpack://next-core-utilities/src/filter.js","webpack://core-next-model/webpack://core-next-validation/webpack/universalModuleDefinition","webpack://core-next-model/webpack://core-next-validation/webpack/bootstrap","webpack://core-next-model/webpack://core-next-validation/src/validationError.js","webpack://core-next-model/webpack://core-next-validation/src/schemaGenerator.js","webpack://core-next-model/webpack://core-next-validation/src/functions.js","webpack://core-next-model/webpack://core-next-validation/src/index.js","webpack://core-next-model/webpack://core-next-validation/src/validationFramework.js","webpack://core-next-model/webpack://core-next-validation/src/api.js","webpack://core-next-model/webpack://core-next-validation/src/validatorContext.js","webpack://core-next-model/./src/collection/iterator.js","webpack://core-next-model/./src/index.js","webpack://core-next-model/./node_modules/lodash.bind/index.js","webpack://core-next-model/(webpack)/buildin/global.js","webpack://core-next-model/external {\"commonjs\":\"lodash.result\",\"commonjs2\":\"lodash.result\",\"amd\":\"lodash.result\",\"root\":\"lodash.result\"}","webpack://core-next-model/external {\"commonjs\":\"lodash.isempty\",\"commonjs2\":\"lodash.isempty\",\"amd\":\"lodash.isempty\",\"root\":\"lodash.isempty\"}","webpack://core-next-model/external {\"commonjs\":\"lodash.has\",\"commonjs2\":\"lodash.has\",\"amd\":\"lodash.has\",\"root\":\"lodash.has\"}","webpack://core-next-model/external {\"commonjs\":\"lodash.defaults\",\"commonjs2\":\"lodash.defaults\",\"amd\":\"lodash.defaults\",\"root\":\"lodash.defaults\"}","webpack://core-next-model/external {\"commonjs\":\"lodash.iteratee\",\"commonjs2\":\"lodash.iteratee\",\"amd\":\"lodash.iteratee\",\"root\":\"lodash.iteratee\"}","webpack://core-next-model/external {\"commonjs\":\"lodash.defer\",\"commonjs2\":\"lodash.defer\",\"amd\":\"lodash.defer\",\"root\":\"lodash.defer\"}","webpack://core-next-model/external {\"commonjs\":\"lodash.escape\",\"commonjs2\":\"lodash.escape\",\"amd\":\"lodash.escape\",\"root\":\"lodash.escape\"}","webpack://core-next-model/./src/collection/collection.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__9__","__WEBPACK_EXTERNAL_MODULE__10__","__WEBPACK_EXTERNAL_MODULE__11__","__WEBPACK_EXTERNAL_MODULE__12__","__WEBPACK_EXTERNAL_MODULE__13__","__WEBPACK_EXTERNAL_MODULE__14__","__WEBPACK_EXTERNAL_MODULE__15__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_nextCoreObject","_nextCoreUtilities","_nextCoreValidation","_clone","_result","_isEmpty","_has","_isEqual","_defaults","_iteratee","_defer","_escape","wrapError","model","options","error","resp","AugmentedObject","constructor","attributes","args","attrs","super","id","idAttribute","cidPrefix","defaults","validationError","urlRoot","_pending","_changing","_previousAttributes","_attributes","schema","validationMessages","valid","preinitialize","cid","uniqueId","collection","parse","extend","set","changed","initialize","attribute","val","_validate","console","unset","silent","changes","changing","current","prev","attr","length","trigger","escape","has","matches","clear","toJSON","fetch","success","serverAttrs","sync","save","wait","validate","method","isNew","request","destroy","url","base","urlError","encodeURIComponent","keys","values","clone","hasChanged","changedAttributes","diff","old","previous","previousAttributes","supportsValidation","isValid","_validationFramework","ValidationFramework","v","getValidationMessages","messages","errors","message","reset","data","isEmpty","toString","JSON","update","e","default","EVENT_SPLITTER","eventsApi","callback","opts","names","u","events","iteratee","onApi","internalOn","obj","context","ctx","listening","listeners","handlers","triggerEvents","offApi","ids","objId","remaining","j","f","handler","count","triggerApi","objEvents","allEvents","all","a1","a2","a3","ev","_events","Configuration","_bind","_options","argsA","Array","once","_onceMap","off","_listeners","stopListening","listeningTo","_listeningTo","on","listenTo","thisId","listenToOnce","__once","map","offer","arguments","TypeError","FUNC_ERROR_TEXT","Number","parseInt","apply","a","b","y","_","O","h","g","x","M","S","shuffle","prettyPrint","binarySearch","TransformerType","Transformer","wrap","filterObject","findByMatchingProperties","sortObjects","mergeSort","quickSort","insertionSort","bubbleSort","formatDate","formatBinary","isString","isFunction","pad","isObject","allKeys","result","arrayHas","exec","isDefined","some","splice","before","fibonacci","fibonacciSequence","getOwnPropertyNames","assign","indexOf","split","pop","isArray","Math","min","max","sqrt","pow","round","push","slice","floor","random","repeat","stringify","STRING","INTEGER","NUMBER","BOOLEAN","ARRAY","OBJECT","NULL","type","[object Object]","String","Boolean","concat","filter","every","sort","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","reverse","join","substring","LoggerLevel","MessageBundle","AsynchronousQueueTimeout","ApplicationInitProcessTimeout","func","P","_fibonacci","_utility","_sort","str","padLeft","idCounter","prefix","props","arr","namespaces","functionName","at","array","tail","insert","phi","asymp","fib","nArray","temp","spaces","low","high","comparison","comparator","out","source","fn","_arguments","newObject","entry","properties","middle","left","right","merge","indexLeft","indexRight","pivot","unsortedList","sortedList","len","tmp","sorted","swapped","year","date","month","day","hour","minute","nMask","nFlag","nShifted","sMask","createBinaryString","pres","char","ERROR_CODES","INVALID_TYPE","ENUM_MISMATCH","ANY_OF_MISSING","ONE_OF_MISSING","ONE_OF_MULTIPLE","NOT_PASSED","NUMBER_MULTIPLE_OF","NUMBER_MINIMUM","NUMBER_MINIMUM_EXCLUSIVE","NUMBER_MAXIMUM","NUMBER_MAXIMUM_EXCLUSIVE","NUMBER_NOT_A_NUMBER","STRING_LENGTH_SHORT","STRING_LENGTH_LONG","STRING_PATTERN","OBJECT_PROPERTIES_MINIMUM","OBJECT_PROPERTIES_MAXIMUM","OBJECT_REQUIRED","OBJECT_ADDITIONAL_PROPERTIES","OBJECT_DEPENDENCY_KEY","ARRAY_LENGTH_SHORT","ARRAY_LENGTH_LONG","ARRAY_UNIQUE","ARRAY_ADDITIONAL_ITEMS","FORMAT_CUSTOM","KEYWORD_CUSTOM","CIRCULAR_REFERENCE","UNKNOWN_PROPERTY","ErrorCodeLookup","ERROR_MESSAGES_DEFAULT","ValidationError","code","Error","dataPath","schemaPath","subErrors","err","stack","err2","prefixWith","dataPrefix","schemaPrefix","SCHEMA_HEADER","$schema","title","description","URI_TEMPLATE_GLOBAL_MODIFIERS","+","#",".","/",";","?","&","URI_TEMPLATE_SUFFICES","*","parseURI","href","protocol","authority","host","hostname","port","pathname","search","hash","removeDotSegments","input","output","resolveUrl","normSchema","getDocumentUri","uri","isTrustedUrl","testUrl","baseUrl","remainder","baseUri","SchemaGenerator","_validationError","_myValidator","registerSchema","getSchema","getSchemas","getSchemaMap","clearSchemas","generateSchema","_functions","languages","createApi","language","_myContext","ValidatorContext","currentLanguage","addFormat","addLanguage","messageMap","rootCode","freshApi","$ref","banUnknownProperties","undefined","validateResult","validateMultiple","addSchema","urlHistory","getSchemaUris","getMissingUris","dropSchemas","defineKeyword","defineError","test","codeNumber","codeName","missing","errorCodes","CLOSE_ENOUGH_LOW","CLOSE_ENOUGH_HIGH","parent","collectMultiple","checkRecursive","trackUnknownProperties","definedKeywords","notReallyPercentEncode","encodeURI","doubleEncoded","uriTemplateSubstitution","modifier","spec","separator","shouldEscape","showVariables","trimEmptyString","varNames","varList","varSpecs","varSpecMap","varName","truncate","parts","suffices","varSpec","subFunction","valueFunction","startIndex","first","substitution","recursiveCompare","A","B","createError","messageTemplate","subValue","messageParams","returnError","collectError","prefixErrors","unknownPropertyPaths","path","format","resolveRefs","urls","fragment","pointerPath","decodeURIComponent","component","searchSchemas","schemas","list","filterRegExp","missingMap","validateAll","frozenIndex","startErrorCount","scannedFrozenSchemaIndex","scannedSchemasIndex","topLevel","validatedSchemasKey","schemaIndex","frozenSchemaIndex","configurable","errorCount","dataPathParts","schemaPathParts","dataPart","schemaPart","validateFormat","errorMessage","validateDefinedKeywords","validationFunctions","dataPointerPath","validateBasic","validateType","dataType","allowedTypes","expected","validateEnum","enumVal","validateNumeric","validateMultipleOf","multipleOf","divisibleBy","validateMinMax","minimum","maximum","validateNaN","isNaN","validateString","validateStringLength","minLength","maxLength","validateStringPattern","RegExp","pattern","regexp","validateArray","validateArrayLength","minItems","maxItems","validateArrayUniqueItems","uniqueItems","match1","match2","validateArrayItems","items","additionalItems","validateObject","validateObjectMinMaxProperties","minProperties","propertyCount","maxProperties","validateObjectRequiredProperties","validateObjectProperties","keyPointerPath","foundMatch","patternProperties","patternKey","additionalProperties","validateObjectDependencies","dependencies","dep","depKey","lenth","requiredKey","validateCombinations","validateAllOf","subSchema","validateAnyOf","oldUnknownPropertyPaths","oldKnownPropertyPaths","errorAtEnd","knownPropertyPaths","knownKey","unknownKey","validateOneOf","validIndex","index1","index2","validateNot","oldErrorCount","notErrors","validateHypermedia","links","ldo","template","UriTemplate","allPresent","ll","ITERATOR_VALUES","ITERATOR_KEYS","kind","_collection","_kind","_index","next","modelId","done","AbstractModel","AbstractCollection","CollectionIterator","global","PLACEHOLDER","BIND_FLAG","BIND_KEY_FLAG","CURRY_BOUND_FLAG","CURRY_FLAG","CURRY_RIGHT_FLAG","PARTIAL_FLAG","PARTIAL_RIGHT_FLAG","ARY_FLAG","FLIP_FLAG","INFINITY","MAX_SAFE_INTEGER","MAX_INTEGER","NAN","wrapFlags","funcTag","genTag","symbolTag","reTrim","reWrapComment","reWrapDetails","reSplitDetails","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","freeParseInt","freeGlobal","freeSelf","self","Function","thisArg","arrayIncludes","fromIndex","predicate","fromRight","index","baseFindIndex","baseIsNaN","baseIndexOf","replaceHolders","placeholder","resIndex","uid","funcProto","objectProto","coreJsData","maskSrcKey","IE_PROTO","funcToString","objectToString","reIsNative","replace","objectCreate","nativeMax","nativeMin","getNative","baseIsNative","tag","isHostObject","toSource","createCtor","Ctor","proto","thisBinding","createHybrid","bitmask","partials","holders","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isCurried","isFlip","wrapper","getHolder","holdersCount","countHolders","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgs","holdersIndex","rightIndex","rightLength","offset","composeArgsRight","newHolders","createRecurry","indexes","arrLength","oldArray","copyArray","isIndex","reorder","wrapFunc","isCurry","setWrapToString","createWrap","toInteger","newData","createCurry","createPartial","createBind","getValue","getWrapDetails","match","insertWrapDetails","details","lastIndex","reference","updateWrapDetails","arrayEach","pair","start","otherArgs","baseRest","toFinite","isObjectLike","isSymbol","other","valueOf","isBinary","toNumber","window","findModelByMatchingProperties","setOptions","add","remove","addOptions","models","_byId","_reset","singular","removed","_removeModels","added","merged","_isModel","toAdd","toMerge","toRemove","modelMap","sortable","sortAttr","existing","_prepareModel","_addReference","orderChanged","_removeReference","unshift","shift","find","results","where","findWhere","sortBy","pluck","callbackOpts","entries","ITERATOR_KEYSVALUES","sortByKey","size","ret","_onModelEvent","event","prevId"],"mappings":"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","file":"core-next-model.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash.clone\"), require(\"lodash.result\"), require(\"lodash.isempty\"), require(\"lodash.has\"), require(\"lodash.defaults\"), require(\"lodash.iteratee\"), require(\"lodash.defer\"), require(\"lodash.escape\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"core-next-model\", [\"lodash.clone\", \"lodash.result\", \"lodash.isempty\", \"lodash.has\", \"lodash.defaults\", \"lodash.iteratee\", \"lodash.defer\", \"lodash.escape\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core-next-model\"] = factory(require(\"lodash.clone\"), require(\"lodash.result\"), require(\"lodash.isempty\"), require(\"lodash.has\"), require(\"lodash.defaults\"), require(\"lodash.iteratee\"), require(\"lodash.defer\"), require(\"lodash.escape\"));\n\telse\n\t\troot[\"core-next-model\"] = factory(root[\"lodash.clone\"], root[\"lodash.result\"], root[\"lodash.isempty\"], root[\"lodash.has\"], root[\"lodash.defaults\"], root[\"lodash.iteratee\"], root[\"lodash.defer\"], root[\"lodash.escape\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__9__, __WEBPACK_EXTERNAL_MODULE__10__, __WEBPACK_EXTERNAL_MODULE__11__, __WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__13__, __WEBPACK_EXTERNAL_MODULE__14__, __WEBPACK_EXTERNAL_MODULE__15__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import { AugmentedObject } from \"next-core-object\";\nimport { extend, uniqueId, allKeys } from \"next-core-utilities\";\nimport { ValidationFramework } from \"next-core-validation\";\n\n// for now\nconst _clone = require(\"lodash.clone\");\nconst _result = require(\"lodash.result\");\nconst _isEmpty = require(\"lodash.isempty\");\nconst _has = require(\"lodash.has\");\nconst _isEqual = require(\"lodash.isequal\");\nconst _defaults = require(\"lodash.defaults\");\nconst _iteratee = require(\"lodash.iteratee\");\nconst _defer = require(\"lodash.defer\");\nconst _escape = require(\"lodash.escape\");\n\nconst wrapError = (model, options) => {\n  if (model) {\n    const error = options.error;\n    options.error = (resp) => {\n      if (error) {\n        error.call(options.context, model, resp, options);\n      }\n      model.trigger(\"error\", model, resp, options);\n    };\n  }\n};\n\n/**\n * AbstractModel <br/>\n * Supports: <ul>\n * <li>Validation and Schemas</li>\n * <li>Security</li>\n * </ul>\n * @extends AugmentedObject\n */\nclass AbstractModel extends AugmentedObject {\n  constructor(attributes, options, ...args) {\n    super(options);\n    this.id = 0;\n    this.idAttribute = \"id\"; // ????\n    this.cidPrefix = \"c\";\n    this.defaults = {};\n    this.validationError = null;\n    this.urlRoot = \"\";\n    this._pending = false;\n    this._changing = false;\n    this._previousAttributes = null;\n    this._attributes = (attributes) ? attributes : {};\n    if (!options) {\n      options = {};\n    }\n\n    this.schema = null;\n    this.validationMessages = {\n     valid: true\n    };\n\n    if (options && options.schema) {\n      this.schema = options.schema;\n    }\n\n    this.preinitialize(args);\n    this.cid = uniqueId(this.cidPrefix);\n    if (options && options.collection) {\n      this.collection = options.collection;\n    }\n    let attrs;\n    if (options && options.parse) {\n      attrs = this.parse(attrs, options) || {};\n    }\n\n    this.defaults = _result(this, \"defaults\");\n    attrs = _defaults(extend({}, this.defaults, attrs), this.defaults);\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize(args);\n  };\n\n  /**\n   * Schema property\n   * @property {object} schema The JSON schema from this model\n   */\n\n  /**\n   * Validation Message property\n   * @property {object} validationMessages The property holding validation message data\n   */\n\n\n  preinitialize(...args) {\n  };\n\n  initialize(...args) {\n  };\n\n  /** Get the attribute form the Model\n   * @returns {any} The model attribute\n   */\n  get(attribute) {\n    return this._attributes[attribute];\n  };\n\n  /** Set a hash of model attributes on the object, firing `\"change\"`. This is\n   * the core primitive operation of a model, updating the data and notifying\n   * anyone who needs to know about the change in state.\n   */\n  set(key, val, options) {\n    // need stack trace for this:\n    /*try {\n      throw new Error(\"calling set.\");\n    } catch(e) {\n      console.debug(e);\n    }*/\n\n    if (key === null) {\n      return this;\n    }\n    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n    let attrs;\n    if (typeof key === \"object\") {\n      attrs = key;\n      options = val;\n      //console.debug(\"key is an object\", attrs);\n    } else {\n      (attrs = {})[key] = val;\n    }\n\n    if (!options) {\n      options = {};\n    }\n\n    //console.debug(\"model change attrs\", attrs);\n\n    // Run validation.\n    if (!this._validate(attrs, options)) {\n      console.warn(\"Model did not validate\");\n      return false;\n    }\n\n    // Extract attributes and options.\n    const unset      = options.unset;\n    const silent     = options.silent;\n    const changes    = [];\n    let changing   = this._changing;\n    this._changing = true;\n\n    if (!changing) {\n      this._previousAttributes = _clone(this._attributes);\n      this.changed = {};\n    }\n\n    let current = this._attributes;\n    let changed = this.changed;\n    const prev    = this._previousAttributes;\n\n    let attr;\n    // For each `set` attribute, update or delete the current value.\n    for (attr in attrs) {\n      //console.debug(\"attr to set\", attr);\n      val = attrs[attr];\n      //console.debug(\"attr value set\", attrs[attr]);\n      //console.debug(\"current[attr], val\", current[attr], val);\n      if ( (typeof current[attr] === \"string\") && (typeof val === \"string\") && current[attr] !== val ) {\n        changes.push(attr);\n      } else if (!_isEqual(current[attr], val)) {\n        //console.debug(\"notequal current[attr], val\", current[attr], val);\n        changes.push(attr);\n      }\n      //console.debug(\"prev[attr], val\", prev[attr], val);\n      if ( (typeof prev[attr] === \"string\") && (typeof val === \"string\") && prev[attr] !== val ) {\n        changed[attr] = val;\n      } else if (!_isEqual(prev[attr], val)) {\n        //console.debug(\"assign changed[attr]\", val);\n        changed[attr] = val;\n      } else {\n        //console.debug(\"deleted changed[attr]\");\n        delete changed[attr];\n      }\n      if (unset) {\n        //console.debug(\"unset deleted current[attr]\");\n        delete current[attr];\n      } else{\n        //console.debug(\"assign current[attr]\", val);\n        current[attr] = val;\n      }\n    }\n\n    // Update the `id`.\n    if (this.idAttribute in attrs) {\n      this.id = this.get(this.idAttribute);\n    }\n\n    // Trigger all relevant attribute changes.\n    if (!silent) {\n      //console.debug(\"model set: not silent\");\n      //console.debug(\"model changes to act on\", changes);\n      if (changes.length) {\n        this._pending = options;\n      }\n      let i = 0;\n      for (i = 0; i < changes.length; i++) {\n        this.trigger(\"change:\" + changes[i], this, current[changes[i]], options);\n      }\n    }\n\n    // You might be wondering why there's a `while` loop here. Changes can\n    // be recursively nested within `\"change\"` events.\n    if (changing) {\n      return this;\n    }\n    if (!silent) {\n      while (this._pending) {\n        options = this._pending;\n        this._pending = false;\n        this.trigger(\"change\", this, options);\n      }\n    }\n    this._pending = false;\n    this._changing = false;\n    return this;\n  };\n\n  /** Escape the attribute data\n   */\n  escape(attribute) {\n    return _escape(this.get(attr));\n  };\n\n  /** Has an attribute in the Model\n   * @returns {bolean} Returns true if exists\n   */\n  has(attribute) {\n    return this.get(attr) !== null;\n  };\n\n  /** Special-cased proxy to underscore's `matches` method.\n   */\n  matches(attrs) {\n    return !!_iteratee(attrs, this)(this._attributes);\n  };\n\n  /** Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n   * if the attribute doesn't exist.\n   */\n  unset(attr, options) {\n    return this.set(attr, void 0, extend({}, options, {unset: true}));\n  };\n\n  /** Clear all attributes on the model, firing `\"change\"`.\n   */\n  clear(options) {\n    let attrs = {};\n    for (let key in this._attributes) attrs[key] = void 0;\n    return this.set(attrs, extend({}, options, {unset: true}));\n  };\n\n  /**\n   * Transforms model to pure toJSON\n   */\n  toJSON() {\n    return _clone(this._attributes);\n  };\n\n  // sync x\n\n  /** Fetch the model from the server, merging the response with the model's\n   * local attributes. Any changed attributes will trigger a \"change\" event.\n   */\n  fetch(options) {\n    options = extend({parse: true}, options);\n    let model = this;\n    let success = options.success;\n    options.success = (resp) => {\n      let serverAttrs = options.parse ? model.parse(resp, options) : resp;\n      if (!model.set(serverAttrs, options)) {\n        return false;\n      }\n      if (success) {\n        success.call(options.context, model, resp, options);\n      }\n      model.trigger(\"sync\", model, resp, options);\n    };\n    wrapError(this, options);\n    return this.sync(\"read\", this, options);\n  };\n\n  /** Set a hash of model attributes, and sync the model to the server.\n   * If the server returns an attributes hash that differs, the model's\n   * state will be `set` again.\n   */\n  save(key, val, options) {\n    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n    let attrs;\n    if (key == null || typeof key === \"object\") {\n      attrs = key;\n      options = val;\n    } else {\n      (attrs = {})[key] = val;\n    }\n\n    options = extend({validate: true, parse: true}, options);\n    let wait = options.wait;\n\n    // If we're not waiting and attributes exist, save acts as\n    // `set(attr).save(null, opts)` with validation. Otherwise, check if\n    // the model will be valid when the attributes, if any, are set.\n    if (attrs && !wait) {\n      if (!this.set(attrs, options)) {\n        return false;\n      }\n    } else if (!this._validate(attrs, options)) {\n      return false;\n    }\n\n    // After a successful server-side save, the client is (optionally)\n    // updated with the server-side state.\n    let model = this;\n    let success = options.success;\n    let attributes = this._attributes;\n    options.success = (resp) => {\n      // Ensure attributes are restored during synchronous saves.\n      model.attributes = attributes;\n      let serverAttrs = options.parse ? model.parse(resp, options) : resp;\n      if (wait) {\n        serverAttrs = extend({}, attrs, serverAttrs);\n      }\n      if (serverAttrs && !model.set(serverAttrs, options)) {\n        return false;\n      }\n      if (success) {\n        success.call(options.context, model, resp, options);\n      }\n      model.trigger(\"sync\", model, resp, options);\n    };\n    wrapError(this, options);\n\n    // Set temporary attributes if `{wait: true}` to properly find new ids.\n    if (attrs && wait) {\n      this._attributes = extend({}, attributes, attrs);\n    }\n\n    let method = this.isNew() ? \"create\" : (options.patch ? \"patch\" : \"update\");\n    if (method === \"patch\" && !options.attrs) {\n      options.attrs = attrs;\n    }\n    let request = this.sync(method, this, options);\n\n    // Restore attributes.\n    this._attributes = attributes;\n\n    return request;\n  };\n\n  /** Destroy this model on the server if it was already persisted.\n   * Optimistically removes the model from its collection, if it has one.\n   * If `wait: true` is passed, waits for the server to respond before removal.\n   */\n  destroy(options) {\n    options = options ? _clone(options) : {};\n    let model = this;\n    let success = options.success;\n    let wait = options.wait;\n\n    let destroy = () => {\n      model.stopListening();\n      model.trigger(\"destroy\", model, model.collection, options);\n    };\n\n    options.success = (resp) => {\n      if (wait) {\n        destroy();\n      }\n      if (success) {\n        success.call(options.context, model, resp, options);\n      }\n      if (!model.isNew()) {\n        model.trigger(\"sync\", model, resp, options);\n      }\n    };\n\n    let request = false;\n    if (this.isNew()) {\n      _defer(options.success);\n    } else {\n      wrapError(this, options);\n      request = this.sync(\"delete\", this, options);\n    }\n    if (!wait) destroy();\n    return request;\n  };\n\n  /** Default URL for the model's representation on the server -- if you're\n   * using restful methods, override this to change the endpoint\n   * that will be called.\n   */\n  url() {\n    let base =\n      _result(this, \"urlRoot\") ||\n      _result(this.collection, \"url\") ||\n      urlError();\n    if (this.isNew()) {\n      return base;\n    }\n    let id = this.get(this.idAttribute);\n    return base.replace(/[^\\/]$/, \"$&/\") + encodeURIComponent(id);\n  };\n\n  keys() {\n    return Object.keys(this._attributes);\n  };\n\n  values() {\n    return Object.values(this._attributes);\n  };\n\n/* if needed these can be used from lodash or underscore against the model's attributes\n\n  pairs() { // ??\n\n  };\n\n  invert() { // ??\n\n  };\n\n  pick() { // ??\n\n  };\n\n  omit() { // ??\n\n  };\n\n  chain() { // ??\n\n  };\n*/\n\n  /** **parse** converts a response into the hash of attributes to be `set` on\n   * the model. The default implementation is just to pass the response along.\n   */\n  parse(resp, options) {\n    return resp;\n  };\n\n  /** Create a new model with identical attributes to this one.\n   */\n  clone() {\n    return new this.constructor(this._attributes);\n  };\n\n  /** A model is new if it has never been saved to the server, and lacks an id.\n   */\n  isNew() {\n    return !this.has(this.idAttribute);\n  };\n\n  /** Determine if the model has changed since the last `\"change\"` event.\n   * If you specify an attribute name, determine if that attribute has changed.\n   */\n  hasChanged(attr) {\n   if (attr == null) {\n     return !_isEmpty(this.changed);\n   }\n   return _has(this.changed, attr);\n  };\n\n  /** Return an object containing all the attributes that have changed, or\n   * false if there are no changed attributes. Useful for determining what\n   * parts of a view need to be updated and/or what attributes need to be\n   * persisted to the server. Unset attributes will be set to undefined.\n   * You can also pass an attributes object to diff against the model,\n   * determining if there *would be* a change.\n   */\n  changedAttributes(diff) {\n    if (!diff) {\n      return this.hasChanged() ? _clone(this.changed) : false;\n    }\n    let old = this._changing ? this._previousAttributes : this._attributes;\n    let changed = {};\n    let hasChanged;\n    for (let attr in diff) {\n      let val = diff[attr];\n      if (_isEqual(old[attr], val)) {\n        continue;\n      }\n      changed[attr] = val;\n      hasChanged = true;\n    }\n    return hasChanged ? changed : false;\n  };\n\n  /** Get the previous value of an attribute, recorded at the time the last\n   * `\"change\"` event was fired.\n   */\n  previous(attr) {\n    if (attr == null || !this._previousAttributes) {\n      return null;\n    }\n    return this._previousAttributes[attr];\n  };\n\n  /** Get all of the attributes of the model at the time of the previous\n   * `\"change\"` event.\n   */\n  previousAttributes() {\n    return _clone(this._previousAttributes);\n  };\n\n  /**\n   * supportsValidation - Returns True if this model supports validation\n   * @returns {boolean} Returns True if this model supports validation\n   */\n  supportsValidation() {\n    if (this.schema !== null) {\n      return true;\n    }\n    return false;\n  };\n\n  /**\n   * isValid - Returns True if this model is valid\n   * Runs two level validation, attribute-level then JSON Schema\n   * @returns {boolean} Returns True if this model is valid\n   */\n  isValid(options) {\n    const valid = this._validate({}, extend({}, options, {validate: true}));\n    if (valid) {\n      const messages = this.validate();\n      return this.validationMessages.valid;\n    }\n    return valid;\n  };\n  /**\n   * Validates the model\n   * @returns {array} Returns array of messages from validation\n   */\n  validate() {\n    if (!this._validationFramework) {\n      this._validationFramework = new ValidationFramework();\n    }\n    const v = this._validationFramework;\n\n    if (this.supportsValidation() && v.supportsValidation()) {\n      // validate from Validator\n      this.validationMessages = v.validate(this.toJSON(), this.schema);\n    } else {\n      this.validationMessages.valid = true;\n    }\n    return this.validationMessages;\n  };\n  /**\n   * Gets the validation messages only in an array\n   * @returns {array} Returns array of messages from validation\n   */\n  getValidationMessages() {\n    const messages = [];\n    if (this.validationMessages && this.validationMessages.errors) {\n      const l = this.validationMessages.errors.length;\n      var i = 0;\n      for (i = 0; i < l; i++) {\n        messages.push(this.validationMessages.errors[i].message + \" from \" + this.validationMessages.errors[i].dataPath);\n      }\n    }\n    return messages;\n  };\n  /**\n   * Sync model data to bound REST call\n   */\n  sync(method, model, options) {\n  };\n  /**\n   * reset - clear and rewrite the model with passed data\n   * @param {object} data The data to replace the model with (optional)\n   */\n  reset(data) {\n    this.clear();\n    if (data) {\n      this.set(data);\n    }\n  };\n\n  /**\n   * isEmpty - returns true is the model is empty\n   * @returns {boolean} returns true is the model is empty\n   */\n  isEmpty() {\n    return ( (this._attributes) ? (Object.keys(this._attributes).length === 0) : true );\n  };\n\n  /**\n   * toString - returns the model data as a string\n   * @returns {string} returns the model data as a string\n   */\n  toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\n  /**\n   * fetch - Fetches the model as a 'get'\n   */\n  fetch(options) {\n    this.sync(\"read\", this, options);\n  };\n  /**\n   * save - Saves the model as a 'create'\n   */\n  save(options) {\n    this.sync(\"create\", this, options);\n  };\n  /**\n   * update - Updates the model as a 'update'\n   */\n  update(options) {\n    this.sync(\"update\", this, options);\n  };\n  /**\n   * destroy - Deletes the model as a 'delete'\n   */\n  destroy(options) {\n    this.sync(\"delete\", this, options);\n  };\n\n  /** Run validation against the next complete set of model attributes,\n   * returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n   * @private\n   */\n  _validate(attrs, options) {\n    if (options && (!options.validate || !this.validate)) {\n      return true;\n    }\n    const messages = this.validate();\n    //attrs = extend({}, this._attributes, attrs);\n    //const error = this.validationError = this.validate(attrs, options);\n    //console.log(`Validate error ${JSON.stringify(error)}`);\n    //if (!error.valid) {\n    //  return true;\n    //}\n    if (messages.valid) {\n      return true;\n    }\n    this.trigger(\"invalid\", this, messages, extend(options, {validationError: messages}));\n    return false;\n  };\n};\n\nexport default AbstractModel;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash.bind\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"next-core-object\", [\"lodash.bind\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"next-core-object\"] = factory(require(\"lodash.bind\"));\n\telse\n\t\troot[\"next-core-object\"] = factory(root[\"lodash.bind\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__4__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","// Events\n\n// Regular expression used to split event strings.\nexport const EVENT_SPLITTER = /\\s+/;\n\n// Iterates over the standard `event, callback` (as well as the fancy multiple\n// space-separated events `\"change blur\", callback` and jQuery-style event\n// maps `{event: callback}`).\nexport const eventsApi = (iteratee, events, name, callback, opts) => {\n  let i = 0, names;\n  if (name && typeof name === \"object\") {\n    // Handle event maps.\n    if (callback !== void 0 && \"context\" in opts && opts.context === void 0) {\n      opts.context = callback;\n    }\n    for (names = Object.keys(name); i < names.length; i++) {\n      events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n    }\n  } else if (name && EVENT_SPLITTER.test(name)) {\n    // Handle space-separated event names by delegating them individually.\n    for (names = name.split(EVENT_SPLITTER); i < names.length; i++) {\n      events = iteratee(events, names[i], callback, opts);\n    }\n  } else {\n    // Finally, standard events.\n    events = iteratee(events, name, callback, opts);\n  }\n  return events;\n};\n\n// Guard the `listening` argument from the public API.\nexport const internalOn = (obj, name, callback, context, listening) => {\n  obj._events = eventsApi(onApi, obj._events || {}, name, callback, {\n    context: context,\n    ctx: obj,\n    listening: listening\n  });\n\n  if (listening) {\n    const listeners = obj._listeners || (obj._listeners = {});\n    listeners[listening.id] = listening;\n  }\n  return obj;\n};\n\n// The reducing API that adds a callback to the `events` object.\nexport const onApi = (events, name, callback, options) => {\n  if (callback) {\n    const handlers = events[name] || (events[name] = []);\n    const context = options.context, ctx = options.ctx, listening = options.listening;\n    if (listening) {\n      listening.count++;\n    }\n    handlers.push({ callback: callback, context: context, ctx: context || ctx, listening: listening });\n  }\n  return events;\n};\n\n// The reducing API that removes a callback from the `events` object.\nexport const offApi = (events, name, callback, options) => {\n  if (!events) {\n    return;\n  }\n  let i = 0, listening;\n  const context = options.context, listeners = options.listeners;\n\n  // Delete all events listeners and \"drop\" events.\n  if (!name && !callback && !context) {\n    const ids = Object.keys(listeners);\n    for (; i < ids.length; i++) {\n      listening = listeners[ids[i]];\n      delete listeners[listening.id];\n      delete listening.listeningTo[listening.objId];\n    }\n    return;\n  }\n\n  let names = name ? [name] : Object.keys(events);\n  for (; i < names.length; i++) {\n    name = names[i];\n    const handlers = events[name];\n\n    // Bail out if there are no events stored.\n    if (!handlers) break;\n\n    // Replace events if there are any remaining.  Otherwise, clean up.\n    const remaining = [];\n    let j = 0;\n    for (j = 0; j < handlers.length; j++) {\n      const handler = handlers[j];\n      if (\n        callback && callback !== handler.callback &&\n          callback !== handler.callback._callback ||\n            context && context !== handler.context\n      ) {\n        remaining.push(handler);\n      } else {\n        listening = handler.listening;\n        if (listening && --listening.count === 0) {\n          delete listeners[listening.id];\n          delete listening.listeningTo[listening.objId];\n        }\n      }\n    }\n\n    // Update tail event if the list has any events.  Otherwise, clean up.\n    if (remaining.length) {\n      events[name] = remaining;\n    } else {\n      delete events[name];\n    }\n  }\n  return events;\n};\n\n// Handles triggering the appropriate event callbacks.\nexport const triggerApi = (objEvents, name, callback, args) => {\n  if (objEvents) {\n    const events = objEvents[name];\n    let allEvents = objEvents.all;\n    if (events && allEvents) {\n      allEvents = allEvents.slice();\n    }\n    if (events) {\n      triggerEvents(events, args);\n    }\n    if (allEvents) {\n      triggerEvents(allEvents, [name].concat(args));\n    }\n  }\n  return objEvents;\n};\n\n// A difficult-to-believe, but optimized internal dispatch function for\n// triggering events. Tries to keep the usual cases speedy\nexport const triggerEvents = (events, args) => {\n  let ev, i = -1;\n  const l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n  switch (args.length) {\n    case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n    case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n    case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n    case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n    default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n  }\n};\n","import AugmentedObject from \"./object.js\";\nimport Configuration from \"./configuration.js\";\nimport { eventsApi, internalOn, offApi, triggerApi } from \"./events.js\";\n\nmodule.exports.AugmentedObject = AugmentedObject;\nmodule.exports.Configuration = Configuration;\nmodule.exports.eventsApi = eventsApi;\nmodule.exports.eventsApi = internalOn;\nmodule.exports.eventsApi = offApi;\nmodule.exports.eventsApi = triggerApi;\n","const _bind = require(\"lodash.bind\");\nimport { once, uniqueId } from \"next-core-utilities\";\nimport { eventsApi, internalOn, offApi, triggerApi } from \"./events.js\";\n\n/**\n * Augmented Object\n * Base class for other classes to extend from\n * @param {object} options Object options\n */\nclass AugmentedObject {\n  constructor(options) {\n    if (!options) {\n      options = {};\n    }\n    if (!this._options) {\n      this._options = {};\n    }\n    Object.assign(this._options, options);\n\n    if (options && options.events) {\n      this._events = options.events;\n    } else {\n      this._events = {};\n    }\n\n    this._listeningTo = {};\n    this._listenId = {};\n    this._listeners = {};\n  };\n\n  /**\n   * Initialize the object\n   * @returns {object} Returns this context\n   */\n  initialize(...args) {\n    return this;\n  };\n\n  /**\n   * The passed options\n   * @property options\n   */\n  get options() {\n    return this._options;\n  };\n\n  set options(options) {\n    this._options = options;\n  };\n\n  /**\n   * The Events\n   * @property events\n   */\n  get events() {\n    return this._events;\n  };\n\n  set events(events) {\n    this._events = events;\n  };\n\n  /**\n   * Trigger one or many events, firing all bound callbacks. Callbacks are\n   * passed the same arguments as `trigger` is, apart from the event name\n   * (unless you're listening on `\"all\"`, which will cause your callback to\n   * receive the true name of the event as the first argument).\n   * @param {string} name The name of the event\n   * @param {any} args any number of additional arguments\n   * @returns {object} Returns this context\n   */\n  trigger(name, ...args) {\n    //console.log(\"events\", this._events);\n    //console.log(\"trigger: name\", name);\n    //console.log(\"trigger: args\", args);\n    if (this._events) {\n      //const length = Math.max(0, args.length - 1);\n      const argsA = (Array.isArray(args)) ? args : (Array.from(args));//(length);\n      //let i = 0;\n      //for (i = 0; i < length; i++) {\n      //  argsA[i] = args[i + 1];\n      //}\n      //console.log(`calling eventsApi(${triggerApi}, ${this._events}, ${name}, ${void 0}, ${argsA});`);\n      eventsApi(triggerApi, this._events, name, void 0, argsA);\n    }\n    return this;\n  };\n\n  /**\n   * Bind an event to only be triggered a single time. After the first time\n   * the callback is invoked, its listener will be removed. If multiple events\n   * are passed in using the space-separated syntax, the handler will fire\n   * once for each event, not once for a combination of all events.\n   * @param {string} name The name of the event\n   * @param {function} callback The callback to evoke\n   * @param {object} context The context of the callback\n   * @returns {object} Returns this context\n   */\n  once(name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    const events = eventsApi(this._onceMap, {}, name, callback, _bind(this.off, this));\n    if (typeof name === \"string\" && context == null) {\n      callback = void 0;\n    }\n    return this.on(events, callback, context);\n  };\n\n  /**\n   * Remove one or many callbacks. If `context` is null, removes all\n   * callbacks with that function. If `callback` is null, removes all\n   * callbacks for the event. If `name` is null, removes all bound\n   * callbacks for all events.\n   * @param {string} name The name of the event\n   * @param {function} callback The callback to evoke\n   * @param {object} context The context of the callback\n   * @returns {object} Returns this context\n   */\n  off(name, callback, context) {\n    if (this._events) {\n      this._events = eventsApi(offApi, this._events, name, callback, {\n        context: context,\n        listeners: this._listeners\n      });\n    }\n    return this;\n  };\n\n  /**\n   * Tell this object to stop listening to either specific events ... or\n   * to every object it's currently listening to.\n   * @param {object} obj The object to stop listening to\n   * @param {string} name The name of the event\n   * @param {function} callback The callback to evoke\n   * @returns {object} Returns this context\n   */\n  stopListening(obj, name, callback) {\n    const listeningTo = this._listeningTo;\n    if (listeningTo) {\n      const ids = obj ? [obj._listenId] : Object.keys(listeningTo);\n      let i = 0;\n      for (i = 0; i < ids.length; i++) {\n        const listening = listeningTo[ids[i]];\n\n        // If listening doesn't exist, this object is not currently\n        // listening to obj. Break out early.\n        if (!listening) {\n          break;\n        }\n        listening.obj.off(name, callback, this);\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Bind an event to a `callback` function. Passing `\"all\"` will bind\n   * the callback to all events fired.\n   * @param {string} name The name of the event\n   * @param {function} callback The callback to evoke\n   * @param {object} context The context of the callback\n   * @returns {object} Returns this context\n   */\n  on(name, callback, context) {\n    return internalOn(this, name, callback, context);\n  };\n\n  /**\n   * Inversion-of-control versions of `on`. Tell *this* object to listen to\n   * an event in another object... keeping track of what it's listening to\n   * for easier unbinding later.\n   * @param {object} obj The object to stop listening to\n   * @param {string} name The name of the event\n   * @param {function} callback The callback to evoke\n   * @returns {object} Returns this context\n   */\n  listenTo(obj, name, callback) {\n    if (obj) {\n      const id = obj._listenId || (obj._listenId = uniqueId(\"l\"));\n      const listeningTo = this._listeningTo || (this._listeningTo = {});\n      let listening = listeningTo[id];\n\n      // This object is not listening to any other events on `obj` yet.\n      // Setup the necessary references to track the listening callbacks.\n      if (!listening) {\n        const thisId = this._listenId || (this._listenId = uniqueId(\"l\"));\n        listening = listeningTo[id] = {obj: obj, objId: id, id: thisId, listeningTo: listeningTo, count: 0};\n      }\n\n      // Bind callbacks on obj, and keep track of them on listening.\n      internalOn(obj, name, callback, this, listening);\n    }\n    return this;\n  };\n\n  /**\n   * Inversion-of-control versions of `once`.\n   * @param {object} obj The object to stop listening to\n   * @param {string} name The name of the event\n   * @param {function} callback The callback to evoke\n   * @returns {object} Returns this context\n   */\n  listenToOnce(obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    const events = eventsApi(this._onceMap, {}, name, callback, _bind(this.stopListening, this, obj));\n    return this.listenTo(obj, events);\n  };\n\n  /** Reduces the event callbacks into a map of `{event: onceWrapper}`.\n   *  `offer` unbinds the `onceWrapper` after it has been called.\n   * @private\n   */\n  _onceMap(map, name, callback, offer) {\n    if (callback) {\n      const __once = map[name] = once(() => {\n        offer(name, __once);\n        callback.apply(this, arguments);\n      });\n      __once._callback = callback;\n    }\n    return map;\n  };\n};\n\nexport default AugmentedObject;\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"next-core-utilities\",[],t):\"object\"==typeof exports?exports[\"next-core-utilities\"]=t():e[\"next-core-utilities\"]=t()}(this,function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"/dist/\",r(r.s=3)}([function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=(e=>{const t=typeof e;return\"function\"===t||\"object\"===t&&!!e})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=(e=>\"[object Function]\"==Object.prototype.toString.call(e))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=arguments;t.default=((e,t)=>{let r,n;if(\"function\"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);return n=Number.parseInt(e),()=>(--n>0&&(r=t.apply(void 0,o)),n<=1&&(t=void 0),r)})},function(e,t,r){\"use strict\";var o=m(r(4)),n=m(r(1)),u=m(r(5)),s=m(r(6)),l=m(r(7)),i=m(r(8)),c=m(r(0)),f=m(r(9)),a=m(r(10)),d=m(r(11)),p=m(r(12)),b=m(r(13)),y=m(r(14)),_=m(r(15)),O=m(r(16)),j=m(r(2)),h=m(r(17)),g=r(18),x=r(19),M=r(20),v=m(r(21)),S=m(r(22));function m(e){return e&&e.__esModule?e:{default:e}}e.exports.shuffle=x.shuffle,e.exports.prettyPrint=x.prettyPrint,e.exports.binarySearch=x.binarySearch,e.exports.TransformerType=x.TransformerType,e.exports.Transformer=x.Transformer,e.exports.wrap=x.wrap,e.exports.filterObject=x.filterObject,e.exports.findByMatchingProperties=x.findByMatchingProperties,e.exports.sortObjects=M.sortObjects,e.exports.mergeSort=M.mergeSort,e.exports.quickSort=M.quickSort,e.exports.insertionSort=M.insertionSort,e.exports.bubbleSort=M.bubbleSort,e.exports.formatDate=v.default,e.exports.formatBinary=S.default,e.exports.isString=o.default,e.exports.isFunction=n.default,e.exports.extend=u.default,e.exports.pad=s.default,e.exports.uniqueId=l.default,e.exports.has=i.default,e.exports.isObject=c.default,e.exports.allKeys=f.default,e.exports.create=a.default,e.exports.result=d.default,e.exports.arrayHas=p.default,e.exports.exec=b.default,e.exports.isDefined=y.default,e.exports.some=_.default,e.exports.splice=O.default,e.exports.before=j.default,e.exports.once=h.default,e.exports.fibonacci=g.fibonacci,e.exports.fibonacciSequence=g.fibonacciSequence},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=(e=>\"string\"==typeof e||!!e&&\"object\"==typeof e&&\"[object String]\"===Object.prototype.toString.call(e))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=((...e)=>{let t=0;const r=e.length;for(t=1;t<r;t++){let r;for(r in e[t])e[t].hasOwnProperty(r)&&(e[0][r]=e[t][r])}return e[0]})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=((e,t,r)=>void 0===t?e:r?`${e}${t}`:`${t}${e}`)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});let o=0;t.default=(e=>{return`${e}${++o}`})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=((e,t)=>null!==e&&hasOwnProperty.call(e,t))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.default=(e=>(0,o.default)(e)?Object.getOwnPropertyNames(e):[])},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.default=((e,t)=>{const r=(e=>(0,o.default)(e)?Object.create(e):{})(e);return t&&Object.assign(r,t),r})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(r(1));t.default=((e,t)=>{if(null===e)return;const r=e[t];return(0,o.default)(r)?r.call(e):r})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=((e,t)=>-1!==e.indexOf(t))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=((e,t,...r)=>{const o=e.split(\".\"),n=o.pop(),u=o.length;let s=0;for(s=0;s<u;s++)t=t[o[s]];return t[n].apply(t,r)})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=(e=>void 0!==e)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=((e,t)=>!!Array.isArray(e)&&e.some(t))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=((e,t,r)=>{r=Math.min(Math.max(r,0),e.length);let o=Array(e.length-r);const n=t.length;let u;for(u=0;u<o.length;u++)o[u]=e[u+r];for(u=0;u<n;u++)e[u+r]=t[u];for(u=0;u<o.length;u++)e[u+n+r]=o[u]})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(r(2));t.default=(e=>(0,o.default)(2,e))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const o=t.fibonacci=(e=>{const t=(1+Math.sqrt(5))/2,r=Math.pow(t,e)/Math.sqrt(5);return Math.round(r)});t.fibonacciSequence=(e=>{const t=[];let r=0;for(r=0;r<e;r++)t.push(o(r));return t})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=arguments;t.shuffle=(e=>{const t=e.slice(0);let r,o,n=0;for(n=e.length-1;n>0;n--)o=Math.floor(Math.random()*(n+1)),r=t[n],t[n]=t[o],t[o]=r;return t}),t.prettyPrint=((e,t,r)=>{let o=\"\\t\";return t&&(o=\" \".repeat(r)),JSON.stringify(e,null,o)}),t.binarySearch=((e,t,r)=>{let o,n,u=0,s=e.length-1;for(;u<=s;)if((n=r(e[o=Math.floor((u+s)/2)],t))<0)u=o+1;else{if(!(n>0))return o;s=o-1}return null});const n=t.TransformerType={};n.STRING=Symbol(\"String\"),n.INTEGER=Symbol(\"Integer\"),n.NUMBER=Symbol(\"Number\"),n.BOOLEAN=Symbol(\"Boolean\"),n.ARRAY=Symbol(\"Array\"),n.OBJECT=Symbol(\"Object\"),n.NULL=Symbol(\"Null\");t.Transformer=class{constructor(){this.type=n}static transform(e,t){let r=null;switch(t){case n.STRING:r=\"object\"==typeof e?JSON.stringify(e):String(e);break;case n.INTEGER:r=parseInt(e);break;case n.NUMBER:r=Number(e);break;case n.BOOLEAN:r=Boolean(e);break;case n.ARRAY:Array.isArray(e)?r=e:(r=[])[0]=e;break;case n.OBJECT:\"object\"!=typeof e?(r={})[e]=e:r=e}return r}static isType(e){return null===e?n.NULL:\"string\"==typeof e?n.STRING:\"number\"==typeof e?n.NUMBER:\"boolean\"==typeof e?n.BOOLEAN:Array.isArray(e)?n.ARRAY:\"object\"==typeof e?n.OBJECT:void 0}};t.wrap=((e,t)=>()=>t.apply(void 0,[e].concat(Array.prototype.slice.call(o)))),t.filterObject=((e,t)=>{const r={};if(e&&t){const o=t.length;let n=0;for(n=0;n<o;n++)r[t[n]]=e[t[n]]}return r}),t.findByMatchingProperties=((e,t)=>e.filter(e=>Object.keys(t).every(r=>e[r]===t[r])))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.sortObjects=((e,t)=>e.sort((e,r)=>{const o=e[t],n=r[t];return o<n?-1:o>n?1:0}));const o=t.mergeSort=(e=>{if(1===e.length)return e;const t=Math.floor(e.length/2),r=e.slice(0,t),u=e.slice(t);return n(o(r),o(u))}),n=(e,t)=>{let r=[],o=0,n=0;for(;o<e.length&&n<t.length;)e[o]<t[n]?(r.push(e[o]),o++):(r.push(t[n]),n++);return r.concat(e.slice(o)).concat(t.slice(n))},u=t.quickSort=(e=>{if(0===e.length)return[];let t=1;const r=e.length,o=[],n=[],s=e[0];for(t=1;t<r;t++)e[t]<s?o.push(e[t]):n.push(e[t]);return u(o).concat(s,u(n))});t.insertionSort=(e=>{let t=[];if(e){const r=(t=e.slice()).length;let o,n,u;for(o=1;o<r;o++){for(u=t[o],n=o-1;n>=0&&t[n]>u;n--)t[n+1]=t[n];t[n+1]=u}}return t}),t.bubbleSort=(e=>{let t=[];if(e){let r,o,n;const u=(t=e.slice()).length-1;do{for(r=!1,o=0;o<u;o++)t[o]>t[o+1]&&(n=t[o],t[o]=t[o+1],t[o+1]=n,r=!0)}while(r)}return t})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=(e=>{const t=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),n=e.getHours(),u=e.getMinutes();e.getSeconds();return`${r}/${o}/${t} ${n%12||12}:${u<10?\"0\"+u:u}${n<12?\"am\":\"pm\"}`})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=((e,t)=>(e=>{let t=0,r=e,o=\"\";for(t=0;t<32;t++,o+=String(r>>>31),r<<=1);return o})(e).split(\"\").reverse().join(\"\").substring(0,t))}])});\n//# sourceMappingURL=next-core-utilities.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","/**\n * A set of configuration properties for the framework\n * @enum Configuration\n * @property {string} LoggerLevel The level of the framework internal logger\n * @property {string} MessageBundle - the base name for messages in the framework (default: Messages)\n * @property {number} AsynchronousQueueTimeout the default milisecond timeout (default: 2000)\n * @property {number} ApplicationInitProcessTimeout the application init even timeout (default: 1000)\n */\nconst Configuration = {\n  LoggerLevel: \"error\",\n  MessageBundle: \"Messages\",\n  AsynchronousQueueTimeout: 2000,\n  ApplicationInitProcessTimeout: 1000\n};\n\nexport default Configuration;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"next-core-utilities\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"next-core-utilities\"] = factory();\n\telse\n\t\troot[\"next-core-utilities\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","/**\n * isObject\n * @param {object} obj The input object\n * @returns {boolean} Returns true of the param is an object\n */\nconst isObject = (obj) => {\n  const type = typeof obj;\n  return (type === \"function\" || type === \"object\" && !!obj);\n};\n\nexport default isObject;\n","/**\n * isFunction -\n * returns true if called name is a function\n * simular to jQuery .isFunction method\n * @param {function} name The name of the function to test\n * @returns true if called name is a function\n */\nconst isFunction = (name) => {\n  return Object.prototype.toString.call(name) == \"[object Function]\";\n};\n\nexport default isFunction;\n","const before = (nn, func) => {\n  let result, n;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = Number.parseInt(nn);\n  return () => {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n};\n\nexport default before;\n","import isString from \"./isString.js\";\nimport isFunction from \"./isFunction.js\";\nimport extend from \"./extend.js\";\nimport pad from \"./pad.js\";\nimport uniqueId from \"./uniqueId.js\";\nimport has from \"./has.js\";\nimport isObject from \"./isObject.js\";\nimport allKeys from \"./allKeys.js\";\nimport create from \"./create.js\";\nimport result from \"./result.js\";\nimport arrayHas from \"./arrayHas.js\";\nimport exec from \"./exec.js\";\nimport isDefined from \"./isDefined.js\";\nimport some from \"./some.js\";\nimport splice from \"./splice.js\";\nimport before from \"./before.js\";\nimport once from \"./once.js\";\nimport { fibonacci, fibonacciSequence } from \"./fibonacci.js\";\n\nimport { shuffle, prettyPrint, binarySearch, TransformerType, Transformer, wrap, filterObject, findByMatchingProperties } from \"./utility.js\";\nimport { sortObjects, mergeSort, quickSort, insertionSort, bubbleSort } from \"./sort.js\";\n\nimport formatDate from \"./formatDate.js\";\nimport formatBinary from \"./formatBinary.js\";\n\nimport filter from \"./filter.js\";\n\nmodule.exports.shuffle = shuffle;\nmodule.exports.prettyPrint = prettyPrint;\nmodule.exports.binarySearch = binarySearch;\nmodule.exports.TransformerType = TransformerType;\nmodule.exports.Transformer = Transformer;\nmodule.exports.wrap = wrap;\nmodule.exports.filterObject = filterObject;\nmodule.exports.findByMatchingProperties = findByMatchingProperties;\n\nmodule.exports.sortObjects = sortObjects;\nmodule.exports.mergeSort = mergeSort;\nmodule.exports.quickSort = quickSort;\nmodule.exports.insertionSort = insertionSort;\nmodule.exports.bubbleSort = bubbleSort;\n\nmodule.exports.formatDate = formatDate;\nmodule.exports.formatBinary = formatBinary;\n\nmodule.exports.isString = isString;\nmodule.exports.isFunction = isFunction;\nmodule.exports.extend = extend;\nmodule.exports.pad = pad;\nmodule.exports.uniqueId = uniqueId;\nmodule.exports.has = has;\nmodule.exports.isObject = isObject;\nmodule.exports.allKeys = allKeys;\nmodule.exports.create = create;\nmodule.exports.result = result;\nmodule.exports.arrayHas = arrayHas;\nmodule.exports.exec = exec;\nmodule.exports.isDefined = isDefined;\nmodule.exports.some = some;\nmodule.exports.splice = splice;\nmodule.exports.before = before;\nmodule.exports.once = once;\nmodule.exports.filter = filter;\n\nmodule.exports.fibonacci = fibonacci;\nmodule.exports.fibonacciSequence = fibonacciSequence;\n","/**\n * isString -\n * checks if a value is a String\n * @param {string} variable to check\n * @returns {boolean} true if value is a string\n */\nconst isString = (val) => {\n  return (typeof val === \"string\") || ((!!val && typeof val === \"object\") && Object.prototype.toString.call(val) === \"[object String]\");\n};\n\nexport default isString;\n","const extend = (...args) => {\n  let i = 0;\n  const l = args.length;\n  for (i = 1; i < l; i++) {\n    let key;\n    for(key in args[i]) {\n      if(args[i].hasOwnProperty(key)) {\n        args[0][key] = args[i][key];\n      }\n    }\n  }\n  return args[0];\n};\n\nexport default extend;\n","const pad = (p, str, padLeft) => {\n  if (typeof str === \"undefined\") {\n    return p;\n  }\n  if (padLeft) {\n    return `${p}${str}`;\n  } else {\n    return `${str}${p}`;\n  }\n};\n\nexport default pad;\n","let idCounter = 0;\n\nconst uniqueId = (prefix) => {\n  const id = ++idCounter;\n  return `${prefix}${id}`;\n};\n\nexport default uniqueId;\n","/**\n * has\n * @param {object} obj The input object\n * @param {object} key The test key\n * @returns {boolean} Returns true of the key exists\n */\nconst has = (obj, key) => {\n  return obj !== null && hasOwnProperty.call(obj, key);\n};\n\nexport default has;\n","import isObject from \"./isObject.js\";\n\n/**\n * Augmented.allKeys\n * @method allKeys\n * @memberof Augmented\n * @param {object} obj The input object\n * @returns {array} Returns the array of ALL keys including prototyped\n */\nconst allKeys = (obj) => {\n  if (!isObject(obj)) {\n    return [];\n  }\n  return Object.getOwnPropertyNames(obj);\n};\n\nexport default allKeys;\n","import isObject from \"./isObject.js\";\n\nconst result = (prototype) => {\n  if (!isObject(prototype)) {\n    return {};\n  }\n  return Object.create(prototype);\n};\n\n/**\n * Augmented.create\n * @method create\n * @memberof Augmented\n * @param {object} prototype The input prototype\n * @param {object} props The properties (optional)\n * @returns {object} Returns the created object\n */\nconst create = (prototype, props) => {\n  const o = result(prototype);\n  if (props) {\n    Object.assign(o, props);\n  }\n  return o;\n};\n\nexport default create;\n","import isFunction from \"./isFunction.js\";\n\n/**\n * Augmented.result - returns named property in an object\n * simular to underscore .result method\n * @function result\n * @memberof Augmented\n * @returns named property in an object\n */\nconst result = (object, property) => {\n  if (object === null) {\n    return;\n  }\n  const value = object[property];\n  return isFunction(value) ? value.call(object) : value;\n};\n\nexport default result;\n","/**\n * Array.has - returns is a property is in the array (very fast return)\n * @function arrayhas\n * @memberof Augmented\n * @param {array} arr Source array\n * @param {object} key Key to test for\n * @returns true if property is included in an array\n */\nconst arrayHas = (arr, key) => {\n  return (arr.indexOf(key) !== -1);\n};\n\nexport default arrayHas;\n","/**\n * exec method - Execute a function by name\n * @param {string} functionName The name of the function\n * @param {object} context The context to call from\n * @param {object} args Arguments\n */\nconst exec = (functionName, context, ...args) => {\n  const //args = Array.prototype.slice.call(arguments, 2),\n        namespaces = functionName.split(\".\"),\n        func = namespaces.pop(),\n        l = namespaces.length;\n  let i = 0;\n  for (i = 0; i < l; i++) {\n    context = context[namespaces[i]];\n  }\n  return context[func].apply(context, args);\n};\n\nexport default exec;\n","/**\n * isDefined - Checks and returns if a passed variable is defined\n * @param {string} variable to check\n * @returns {boolean} true if value is defined\n */\nconst isDefined = (val) => {\n  return typeof val != \"undefined\";\n};\n\nexport default isDefined;\n","const some = (arr, func) => {\n  if (Array.isArray(arr)) {\n    return arr.some(func);\n  }\n  return false;\n};\n\nexport default some;\n","// Splices `insert` into `array` at index `at`.\nconst splice = (array, insert, at) => {\n  at = Math.min(Math.max(at, 0), array.length);\n  let tail = Array(array.length - at);\n  const length = insert.length;\n  let i;\n  for (i = 0; i < tail.length; i++) {\n    tail[i] = array[i + at];\n  }\n  for (i = 0; i < length; i++) {\n    array[i + at] = insert[i];\n  }\n  for (i = 0; i < tail.length; i++) {\n    array[i + length + at] = tail[i];\n  }\n};\n\nexport default splice;\n","import before from \"./before.js\";\n\nconst once = (func) => {\n  return before(2, func);\n};\n\nexport default once;\n","export const fibonacci = (n) => {\n  const phi = (1 + Math.sqrt(5))/2;\n  const asymp = Math.pow(phi, n) / Math.sqrt(5);\n  return Math.round(asymp);\n};\n\nexport const fibonacciSequence = (l) => {\n  const fib = [];\n  let i = 0;\n  for(i = 0; i < l; i++) {\n    fib.push(fibonacci(i));\n  }\n  return fib;\n};\n","/**\n * Shuffles an Array with Fisher-Yates Shuffle algorithm\n *\n * @param {array} array The array to shuffle\n * @returns {array} A new shuffled array\n */\nexport const shuffle = (array) => {\n  const nArray = array.slice(0), l = array.length;\n  let i = 0, temp, j;\n  for (i = l - 1; i > 0; i--) {\n    j = Math.floor(Math.random() * (i + 1));\n    temp = nArray[i];\n    nArray[i] = nArray[j];\n    nArray[j] = temp;\n  }\n  return nArray;\n};\n\n/**\n * Prints an object nicely\n *\n * @param {object} obj The object to print\n * @param {boolean} spaces Use spaces instead of tabs\n * @returns {number} number The number of spaces to pad\n */\nexport const prettyPrint = (obj, spaces, number) => {\n  let x = \"\\t\";\n  if (spaces) {\n    x = \" \".repeat(number);\n  }\n  return JSON.stringify(obj, null, x);\n};\n\n/**\n * Performs a binary search on the host array. vs indexOf<br/>\n * Binary Search is a complexity of <em>O(n log n)</em> vs <em>O(n)</em> with indexOf\n *\n * @param {Array} arr The array.\n * @param {Any} find The item to search for within the array.\n * @param {function} comparator The comparator to use\n * @returns {Number} The index of the element which defaults to -1 when not found.\n */\nexport const binarySearch = (arr, find, comparator) => {\n  let low = 0, high = arr.length - 1, i, comparison;\n\n  while (low <= high) {\n    i = Math.floor((low + high) / 2);\n    comparison = comparator(arr[i], find);\n    if (comparison < 0) {\n      low = i + 1; continue;\n    }\n    if (comparison > 0) {\n      high = i - 1; continue;\n    }\n    return i;\n  }\n  return null;\n};\n\n/**\n * Augmented.Utility.TransformerType <br/>\n * Transformer type for use in the transformer\n * @enum {Symbol} Augmented.Utility.TransformerType\n * @name TransformerType\n *\n * @property {Symbol} String Standard String\n * @property {Symbol} Integer Integer\n * @property {Symbol} Number Any number\n * @property {Symbol} Boolean True/False\n * @property {Symbol} Array Stanrdard Array\n * @property {Symbol} Object Any Object\n * @property {Symbol} Null Null\n */\nexport const TransformerType = {};\nTransformerType.STRING = Symbol(\"String\");\nTransformerType.INTEGER = Symbol(\"Integer\");\nTransformerType.NUMBER = Symbol(\"Number\");\nTransformerType.BOOLEAN = Symbol(\"Boolean\");\nTransformerType.ARRAY = Symbol(\"Array\");\nTransformerType.OBJECT = Symbol(\"Object\");\nTransformerType.NULL = Symbol(\"Null\");\n\n/**\n * Augmented.Utility.Transformer <br/>\n * Transform an object, type, or array to another type, object, or array\n *\n */\nexport class Transformer {\n  constructor() {\n    this.type = TransformerType;\n  };\n\n  /**\n   * The transformer type enum\n   * @propery type The transformer type enum\n   * @type {Augmented.Utility.TransformerType}\n   */\n\n  /**\n   * Transform an object, primitive, or array to another object, primitive, or array\n   * @param {object} source Source primitive to transform\n   * @param {Augmented.Utility.TransformerType} type Type to transform to\n   * @returns {object} returns a transformed object or primitive\n   */\n  static transform(source, type) {\n    let out = null;\n    switch(type) {\n      case TransformerType.STRING:\n      if (typeof source === \"object\") {\n        out = JSON.stringify(source);\n      } else {\n        out = String(source);\n      }\n      break;\n      case TransformerType.INTEGER:\n      out = parseInt(source);\n      break;\n      case TransformerType.NUMBER:\n      out = Number(source);\n      break;\n      case TransformerType.BOOLEAN:\n      out = Boolean(source);\n      break;\n      case TransformerType.ARRAY:\n      if (!Array.isArray(source)) {\n        out = [];\n        out[0] = source;\n      } else {\n        out = source;\n      }\n      break;\n      case TransformerType.OBJECT:\n      if (typeof source !== \"object\") {\n        out = {};\n        out[source] = source;\n      } else {\n        out = source;\n      }\n      break;\n    }\n    return out;\n  };\n\n  /**\n   * Returns a Augmented.Utility.TransformerType of a passed object\n   * @param {object} source The source primitive\n   * @returns {Augmented.Utility.TransformerType} type of source as Augmented.Utility.TransformerType\n   */\n  static isType(source) {\n    if (source === null) {\n      return TransformerType.NULL;\n    } else if (typeof source === \"string\") {\n      return TransformerType.STRING;\n    } else if (typeof source === \"number\") {\n      return TransformerType.NUMBER;\n    } else if (typeof source === \"boolean\") {\n      return TransformerType.BOOLEAN;\n    } else if (Array.isArray(source)) {\n      return TransformerType.ARRAY;\n    } else if (typeof source === \"object\") {\n      return TransformerType.OBJECT;\n    }\n  }\n};\n\n/**\n * Wrap method to handle wrapping functions (simular to _.wrap)\n *\n */\nexport const wrap = (fn, wrap) => {\n  return () => {\n    return wrap.apply(this, [fn].concat(Array.prototype.slice.call(arguments)));\n  };\n};\n\n/**\n * filter an object from array of values\n *\n * @param {object} object Object to filter\n * @param {array} keys keys to filter from the object\n * @returns {object} returns a new object with only these keys\n *\n */\nexport const filterObject = (object, keys) => {\n  const newObject = {};\n  if (object && keys) {\n    const l = keys.length;\n    let i = 0;\n    for (i = 0; i < l; i++) {\n      newObject[keys[i]] = object[keys[i]];\n    }\n  }\n  return newObject;\n};\n\n/**\n * find an oject from matching properties\n *\n * @param {Array} set array/set of objects\n * @param {object} properties properties to find by\n * @returns {array} returns a the objects that matched\n *\n */\nexport const findByMatchingProperties = (set, properties) => {\n  return set.filter( (entry) => {\n    return Object.keys(properties).every( (key) => {\n      return entry[key] === properties[key];\n    });\n  });\n};\n","/**\n * Sorts an array of objects by propery in object\n * @function sortObjects\n * @memberof Utility\n * @param {array} array The object array to sort\n * @param {object} key The property to sort by\n * @returns {array} The sorted array\n */\nexport const sortObjects = (array, key) => {\n  return array.sort( (a, b) => {\n    const x = a[key], y = b[key];\n    return ((x < y) ? -1 : ((x > y) ? 1 : 0));\n  });\n};\n\n/**\n * Split the array into halves and merge them recursively\n * @function mergeSort\n * @memberof Utility\n * @param {array} array The array to sort\n * @returns {array} The sorted array\n */\nexport const mergeSort = (arr) => {\n  if (arr.length === 1) {\n    // return once we hit an array with a single item\n    return arr;\n  }\n\n  const middle = Math.floor(arr.length / 2); // get the middle item of the array rounded down\n  const left = arr.slice(0, middle); // items on the left side\n  const right = arr.slice(middle); // items on the right side\n\n  return merge(mergeSort(left), mergeSort(right));\n};\n\n/*\n * compare the arrays item by item and return the concatenated result\n */\nconst merge = (left, right) => {\n  let result = [];\n  let indexLeft = 0;\n  let indexRight = 0;\n\n  while (indexLeft < left.length && indexRight < right.length) {\n    if (left[indexLeft] < right[indexRight]) {\n      result.push(left[indexLeft]);\n      indexLeft++;\n    } else {\n      result.push(right[indexRight]);\n      indexRight++;\n    }\n  }\n  return result.concat(left.slice(indexLeft)).concat(right.slice(indexRight));\n};\n\n/**\n * Quick Sort implimentation for Arrays -\n * @function QuickSort\n * @memberof Utility\n * @param {Array} arr Array to Sort\n * @returns {Array} Returns a sorted array\n */\nexport const quickSort = (arr) => {\n  //if array is empty\n  if (arr.length === 0) {\n    return [];\n  }\n\n  let i = 1;\n  const l = arr.length, left = [], right = [], pivot = arr[0];\n  //go through each element in array\n  for (i = 1; i < l; i++) {\n    if (arr[i] < pivot) {\n      left.push(arr[i]);\n    } else {\n      right.push(arr[i]);\n    }\n  }\n  return quickSort(left).concat(pivot, quickSort(right));\n};\n\n/**\n * Insertion sort is a simple sorting algorithm that builds the final sorted array (or list) one item at a time.\n * It is much less efficient on large lists than more advanced algorithms such as quicksort, heapsort, or merge sort.\n * @function mergeSort\n * @memberof Utility\n * @param {array} array The array to sort\n * @returns {array} The sorted array\n */\nexport const insertionSort = (unsortedList) => {\n  let sortedList = [];\n  if (unsortedList) {\n    sortedList = unsortedList.slice();\n    const len = sortedList.length;\n    let i, j, tmp;\n  \tfor (i = 1; i < len; i++) {\n  \t\ttmp = sortedList[i]; //Copy of the current element.\n  \t\t/*Check through the sorted part and compare with the number in tmp. If large, shift the number*/\n  \t\tfor (j = i - 1; j >= 0 && (sortedList[j] > tmp); j--) {\n  \t\t\t//Shift the number\n  \t\t\tsortedList[j + 1] = sortedList[j];\n  \t\t}\n  \t\t//Insert the copied number at the correct position\n  \t\t//in sorted part.\n  \t\tsortedList[j + 1] = tmp;\n  \t}\n  }\n\treturn sortedList;\n};\n\n/**\n * Simple sorting algorithm that repeatedly steps through the list to be sorted, compares each pair of adjacent items and swaps them if they are in the wrong order.\n * @function mergeSort\n * @memberof Utility\n * @param {array} array The array to sort\n * @returns {array} The sorted array\n */\nexport const bubbleSort = (a) => {\n  let sorted = [];\n  if (a) {\n    sorted = a.slice();\n    let swapped, i, tmp;\n    const l = sorted.length - 1;\n    do {\n      swapped = false;\n      for (i = 0; i < l; i++) {\n        if (sorted[i] > sorted[i + 1]) {\n          tmp = sorted[i];\n          sorted[i] = sorted[i + 1];\n          sorted[i + 1] = tmp;\n          swapped = true;\n        }\n      }\n    } while (swapped);\n  }\n  return sorted;\n};\n","/**\n * Format a date to US format (MM/DD/YYYY HH:mm AM/PM) or (MM/DD/YYYY) only\n * @param {date} date The date to format\n * @param {boolean} noTime Exclude the time\n * @returns {string} The formatted date\n */\nconst formatDate = (date, noTime) => {\n  const year = date.getFullYear(),\n    month = date.getMonth() + 1, // months are zero indexed\n    day = date.getDate(),\n    hour = date.getHours(),\n    minute = date.getMinutes(),\n    second = date.getSeconds(),\n    hourFormatted = hour % 12 || 12, // hour returned in 24 hour format\n    minuteFormatted = minute < 10 ? \"0\" + minute : minute,\n    morning = hour < 12 ? \"am\" : \"pm\";\n  if (noTime) {\n    return `${month}/${day}/${year}`;\n  }\n  return `${month}/${day}/${year} ${hourFormatted}:${minuteFormatted}${morning}`;\n};\n\nexport default formatDate;\n","const createBinaryString = (nMask) => {\n  // nMask must be between -2147483648 and 2147483647\n  let nFlag = 0, nShifted = nMask, sMask = '';\n  for (nFlag = 0; nFlag < 32;\n       nFlag++, sMask += String(nShifted >>> 31), nShifted <<= 1);\n  return sMask;\n};\n\n/**\n * Format a number into binary string at a set precision\n * @function formatBinary\n * @memberof Utility\n * @param {num} num The number to format\n  * @param {pres} pres The bit precision\n * @returns {string} The formatted binary string\n */\nconst formatBinary = (num, pres) => {\n  return createBinaryString(num).split(\"\").reverse().join(\"\").substring(0, pres);\n};\n\nexport default formatBinary;\n","/**\n * Filter a string by removing a char\n * @param {string} str The string\n * @param {string} char The char\n * @returns {string} The filtered string\n */\nconst filter = (str, char) => {\n  if (str && char) {\n    return [].filter.call(str, c => c != char).join(\"\");\n  }\n  return null;\n};\n\nexport default filter;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"core-next-validation\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core-next-validation\"] = factory();\n\telse\n\t\troot[\"core-next-validation\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","const ERROR_CODES = {\n  INVALID_TYPE: 0,\n  ENUM_MISMATCH: 1,\n  ANY_OF_MISSING: 10,\n  ONE_OF_MISSING: 11,\n  ONE_OF_MULTIPLE: 12,\n  NOT_PASSED: 13,\n  // Numeric errors\n  NUMBER_MULTIPLE_OF: 100,\n  NUMBER_MINIMUM: 101,\n  NUMBER_MINIMUM_EXCLUSIVE: 102,\n  NUMBER_MAXIMUM: 103,\n  NUMBER_MAXIMUM_EXCLUSIVE: 104,\n  NUMBER_NOT_A_NUMBER: 105,\n  // String errors\n  STRING_LENGTH_SHORT: 200,\n  STRING_LENGTH_LONG: 201,\n  STRING_PATTERN: 202,\n  // Object errors\n  OBJECT_PROPERTIES_MINIMUM: 300,\n  OBJECT_PROPERTIES_MAXIMUM: 301,\n  OBJECT_REQUIRED: 302,\n  OBJECT_ADDITIONAL_PROPERTIES: 303,\n  OBJECT_DEPENDENCY_KEY: 304,\n  // Array errors\n  ARRAY_LENGTH_SHORT: 400,\n  ARRAY_LENGTH_LONG: 401,\n  ARRAY_UNIQUE: 402,\n  ARRAY_ADDITIONAL_ITEMS: 403,\n  // Custom/user-defined errors\n  FORMAT_CUSTOM: 500,\n  KEYWORD_CUSTOM: 501,\n  // Schema structure\n  CIRCULAR_REFERENCE: 600,\n  // Non-standard validation options\n  UNKNOWN_PROPERTY: 1000\n};\n\n// TODO: bundle this\nconst ERROR_MESSAGES_DEFAULT = {\n  INVALID_TYPE: \"Invalid type: {type} (expected {expected})\",\n  ENUM_MISMATCH: \"No enum match for: {value}\",\n  ANY_OF_MISSING: \"Data does not match any schemas from \\\"anyOf\\\"\",\n  ONE_OF_MISSING: \"Data does not match any schemas from \\\"oneOf\\\"\",\n  ONE_OF_MULTIPLE: \"Data is valid against more than one schema from \\\"oneOf\\\": indices {index1} and {index2}\",\n  NOT_PASSED: \"Data matches schema from \\\"not\\\"\",\n  // Numeric errors\n  NUMBER_MULTIPLE_OF: \"Value {value} is not a multiple of {multipleOf}\",\n  NUMBER_MINIMUM: \"Value {value} is less than minimum {minimum}\",\n  NUMBER_MINIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive minimum {minimum}\",\n  NUMBER_MAXIMUM: \"Value {value} is greater than maximum {maximum}\",\n  NUMBER_MAXIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive maximum {maximum}\",\n  NUMBER_NOT_A_NUMBER: \"Value {value} is not a valid number\",\n  // String errors\n  STRING_LENGTH_SHORT: \"String is too short ({length} chars), minimum {minimum}\",\n  STRING_LENGTH_LONG: \"String is too long ({length} chars), maximum {maximum}\",\n  STRING_PATTERN: \"String does not match pattern: {pattern}\",\n  // Object errors\n  OBJECT_PROPERTIES_MINIMUM: \"Too few properties defined ({propertyCount}), minimum {minimum}\",\n  OBJECT_PROPERTIES_MAXIMUM: \"Too many properties defined ({propertyCount}), maximum {maximum}\",\n  OBJECT_REQUIRED: \"Missing required property: {key}\",\n  OBJECT_ADDITIONAL_PROPERTIES: \"Additional properties not allowed\",\n  OBJECT_DEPENDENCY_KEY: \"Dependency failed - key must exist: {missing} (due to key: {key})\",\n  // Array errors\n  ARRAY_LENGTH_SHORT: \"Array is too short ({length}), minimum {minimum}\",\n  ARRAY_LENGTH_LONG: \"Array is too long ({length}), maximum {maximum}\",\n  ARRAY_UNIQUE: \"Array items are not unique (indices {match1} and {match2})\",\n  ARRAY_ADDITIONAL_ITEMS: \"Additional items not allowed\",\n  // Format errors\n  FORMAT_CUSTOM: \"Format validation failed ({message})\",\n  KEYWORD_CUSTOM: \"Keyword failed: {key} ({message})\",\n  // Schema structure\n  CIRCULAR_REFERENCE: \"Circular $refs: {urls}\",\n  // Non-standard validation options\n  UNKNOWN_PROPERTY: \"Unknown property (not in schema)\"\n};\n\nclass ValidationError { //extends Error {\n  constructor(code, message, params, dataPath, schemaPath, subErrors) {\n    // Pass remaining arguments (including vendor specific ones) to parent constructor\n    //super(code, message, params);\n    //Error.call(this);\n    if (code === undefined) {\n      throw new Error (\"No code supplied for error: \"+ message);\n    }\n    this.message = message;\n    this.params = params;\n    this.code = code;\n    this.dataPath = dataPath || \"\";\n    this.schemaPath = schemaPath || \"\";\n    this.subErrors = subErrors || null;\n\n    const err = new Error(this.message);\n    this.stack = err.stack || err.stacktrace;\n    if (!this.stack) {\n      try {\n        throw err;\n      } catch(err2) {\n        this.stack = err2.stack || err2.stacktrace;\n      }\n    }\n    this.name = \"ValidationError\";\n  };\n\n  prefixWith(dataPrefix, schemaPrefix) {\n    if (dataPrefix !== null) {\n      dataPrefix = dataPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n      this.dataPath = \"/\" + dataPrefix + this.dataPath;\n    }\n    if (schemaPrefix !== null) {\n      schemaPrefix = schemaPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n      this.schemaPath = \"/\" + schemaPrefix + this.schemaPath;\n    }\n    if (this.subErrors !== null) {\n      let i = 0, l = this.subErrors.length;\n      for (i = 0; i < l; i++) {\n        this.subErrors[i].prefixWith(dataPrefix, schemaPrefix);\n      }\n    }\n    return this;\n  };\n};\n\nlet ErrorCodeLookup = {}, key;\nfor (key in ERROR_CODES) {\n  ErrorCodeLookup[ERROR_CODES[key]] = key;\n}\n\nexport { ERROR_CODES, ERROR_MESSAGES_DEFAULT, ValidationError, ErrorCodeLookup };\n","const SCHEMA_HEADER = {\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"title\": \"model\",\n  \"description\": \"Generated Schema\",\n  \"type\": \"object\",\n  \"properties\": { }\n};\n\n/**\n * <p>Augmented.Utility.SchemaGenerator<br/>\n *\n * Genrate a schema from a set of data</p>\n * @param {object} data a dataset to produce a schema from\n * @memberof Utility\n */\nconst SchemaGenerator = (data) => {\n  let obj = SCHEMA_HEADER;\n  let i, d, dkey, p, keys = Object.keys(data), l = keys.length;\n  for (i = 0; i < l; i++) {\n    d = keys[i];\n    for (dkey in d) {\n      if (d.hasOwnProperty(dkey)) {\n        p = obj.properties[d] = {};\n\n        let t = (typeof data[d]);\n        if (t === \"object\") {\n          t = (Array.isArray(data[d])) ? \"array\" : \"object\";\n        } else if (t === \"number\") {\n          t = (Number.isInteger(data[d])) ? \"integer\" : \"number\";\n        }\n        p.type = t;\n        p.description = String(d);\n      }\n    }\n  }\n  return obj;\n};\n\nexport default SchemaGenerator;\n","/**\n * @see https://github.com/geraintluff/uri-templates\n * but with all the de-substitution stuff removed\n */\nexport const URI_TEMPLATE_GLOBAL_MODIFIERS = {\n  \"+\": true,\n  \"#\": true,\n  \".\": true,\n  \"/\": true,\n  \";\": true,\n  \"?\": true,\n  \"&\": true\n};\n\nexport const URI_TEMPLATE_SUFFICES = {\n  \"*\": true\n};\n\n// parseURI() and resolveUrl() are from https://gist.github.com/1088850\n// - released as public domain by author (\"Yaffle\") - see comments on\n// gist\nexport const parseURI = (url) => {\n  const m = String(url).replace(/^\\s+|\\s+$/g, '').match(/^([^:\\/?#]+:)?(\\/\\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\\/?#]*)(?::(\\d*))?))?([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/);\n  // authority = '//' + user + ':' + pass '@' + hostname + ':' port\n  return (m ? {\n    href     : m[0] || '',\n    protocol : m[1] || '',\n    authority: m[2] || '',\n    host     : m[3] || '',\n    hostname : m[4] || '',\n    port     : m[5] || '',\n    pathname : m[6] || '',\n    search   : m[7] || '',\n    hash     : m[8] || ''\n  } : null);\n};\n\nexport const removeDotSegments = (input) => {\n  let output = [];\n  input.replace(/^(\\.\\.?(\\/|$))+/, '')\n       .replace(/\\/(\\.(\\/|$))+/g, '/')\n       .replace(/\\/\\.\\.$/, '/../')\n       .replace(/\\/?[^\\/]*/g, function (p) {\n    if (p === '/..') {\n      output.pop();\n    } else {\n      output.push(p);\n    }\n  });\n  return output.join('').replace(/^\\//, input.charAt(0) === '/' ? '/' : '');\n};\n\nexport const resolveUrl = (base, href) => {// RFC 3986\n  href = parseURI(href || '');\n  base = parseURI(base || '');\n\n  return !href || !base ? null : (href.protocol || base.protocol) +\n  (href.protocol || href.authority ? href.authority : base.authority) +\n  removeDotSegments(href.protocol || href.authority || href.pathname.charAt(0) === '/' ? href.pathname : (href.pathname ? ((base.authority && !base.pathname ? '/' : '') + base.pathname.slice(0, base.pathname.lastIndexOf('/') + 1) + href.pathname) : base.pathname)) +\n  (href.protocol || href.authority || href.pathname ? href.search : (href.search || base.search)) +\n  href.hash;\n};\n\nexport const getDocumentUri = (uri) => {\n  return uri.split('#')[0];\n};\n\nexport const isTrustedUrl = (baseUrl, testUrl) => {\n  if(testUrl.substring(0, baseUrl.length) === baseUrl){\n    let remainder = testUrl.substring(baseUrl.length);\n    if ((testUrl.length > 0 && testUrl.charAt(baseUrl.length - 1) === \"/\") || remainder.charAt(0) === \"#\" || remainder.charAt(0) === \"?\") {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const normSchema = (schema, baseUri) => {\n  if (schema && typeof schema === \"object\") {\n    if (baseUri === undefined) {\n      baseUri = schema.id;\n    } else if (typeof schema.id === \"string\") {\n      baseUri = resolveUrl(baseUri, schema.id);\n      schema.id = baseUri;\n    }\n    if (Array.isArray(schema)) {\n      let i = 0, l = schema.length;\n      for (i = 0; i < l; i++) {\n        normSchema(schema[i], baseUri);\n      }\n    } else {\n      if (typeof schema['$ref'] === \"string\") {\n        schema['$ref'] = resolveUrl(baseUri, schema['$ref']);\n      }\n      for (let key in schema) {\n        if (key !== \"enum\") {\n          normSchema(schema[key], baseUri);\n        }\n      }\n    }\n  }\n};\n","import ValidationFramework from \"./validationFramework.js\";\nimport SchemaGenerator from \"./schemaGenerator.js\";\n\nmodule.exports.ValidationFramework = ValidationFramework;\nmodule.exports.SchemaGenerator = SchemaGenerator;\n","import SchemaGenerator from \"./schemaGenerator.js\";\nimport createApi from \"./api.js\";\nimport { ERROR_MESSAGES_DEFAULT } from \"./validationError.js\";\n\n/**\n * Augmented.ValidationFramework -\n * The Validation Framework Base Wrapper Class.\n * Provides abstraction for base validation build-in library\n */\nclass ValidationFramework {\n  constructor() {\n    this._myValidator = createApi();\n    if (this._myValidator) {\n      this._myValidator.addLanguage(\"en-us\", ERROR_MESSAGES_DEFAULT);  // changed to US\n    }\n  };\n\n  /**\n   * Returns if the framework supports validation\n   * @returns {boolean} Returns true if the framework supports validation\n   */\n  supportsValidation() {\n    return (this._myValidator !== null);\n  };\n\n  /**\n   * Registers a schema to the Framework\n   * @param {string} identity The identity of the schema\n   * @param {object} schema The JSON schema\n   * @returns {boolean} Returns true on success\n   */\n  registerSchema(identity, schema) {\n    return this._myValidator.addSchema(identity, schema);\n  };\n\n  /**\n   * Gets a schema\n   * @param {string} identity The identity of the schema\n   * @returns {object} The JSON schema\n   */\n  getSchema(identity) {\n    return this._myValidator.getSchema(identity);\n  };\n\n  /**\n   * Gets all schemas\n   * @returns {array} all JSON schemas\n   */\n  getSchemas() {\n    return this._myValidator.getSchemaMap();\n  };\n\n  /**\n   * Clears all schemas\n   */\n  clearSchemas() {\n    this._myValidator.dropSchemas();\n  };\n\n  /**\n   * Validates data via a schema\n   * @param {object} data The data to validate\n   * @param {object} schema The JSON schema\n   * @returns {object} Returns the validation object\n   */\n  validate(data, schema) {\n    return this._myValidator.validateMultiple(data, schema);\n  };\n\n  /**\n   * Validates data via a schema\n   * @returns {array} Returns the validation messages\n   */\n  getValidationMessages() {\n    return this._myValidator.error;\n  };\n\n  /**\n   * Validates data via a schema\n   * @param {Augmented.Model|object} model The model generate from\n   * @returns {object} Returns the schema\n   */\n  generateSchema(model) {\n    let data = model;\n    /*TODO support model\n    if (model && model instanceof Model) {\n      data = model.toJSON();\n    }*/\n    return SchemaGenerator(data);\n  };\n};\n\nexport default ValidationFramework;\n","import ValidatorContext from \"./validatorContext.js\";\nimport { ErrorCodeLookup, ERROR_CODES, ERROR_MESSAGES_DEFAULT } from \"./validationError.js\";\nimport { normSchema, resolveUrl, getDocumentUri } from \"./functions.js\";\n\nlet languages = {};\n\nconst createApi = (language) => {\n  const _myContext = new ValidatorContext();\n  let currentLanguage = language || 'en';\n\n  const api = {\n    addFormat: (format, validator) => {\n      _myContext.addFormat(format, validator);\n    },\n    language: (code) => {\n      if (!code) {\n        return currentLanguage;\n      }\n      if (!languages[code]) {\n        code = code.split('-')[0]; // fall back to base\n        // language\n      }\n      if (languages[code]) {\n        currentLanguage = code;\n        return code; // so you can tell if fall-back has happened\n      }\n      return false;\n    },\n    addLanguage: (code, messageMap) => {\n      let key;\n      for (key in ERROR_CODES) {\n        if (messageMap[key] && !messageMap[ERROR_CODES[key]]) {\n          messageMap[ERROR_CODES[key]] = messageMap[key];\n        }\n      }\n      let rootCode = code.split('-')[0];\n      if (!languages[rootCode]) { // use for base language if\n        // not yet defined\n        languages[code] = messageMap;\n        languages[rootCode] = messageMap;\n      } else {\n        languages[code] = Object.create(languages[rootCode]);\n        for (key in messageMap) {\n          if (typeof languages[rootCode][key] === 'undefined') {\n            languages[rootCode][key] = messageMap[key];\n          }\n          languages[code][key] = messageMap[key];\n        }\n      }\n      return this;\n    },\n    freshApi: (language) => {\n      const result = createApi();\n      if (language) {\n        result.language(language);\n      }\n      return result;\n    },\n    validate: (data, schema, checkRecursive, banUnknownProperties) => {\n      const context = new ValidatorContext(_myContext, false, languages[currentLanguage], checkRecursive, banUnknownProperties);\n      if (typeof schema === \"string\") {\n        schema = {\"$ref\": schema};\n      }\n      context.addSchema(\"\", schema);\n      let error = context.validateAll(data, schema, null, null, \"\");\n      if (!error && banUnknownProperties) {\n        error = context.banUnknownProperties();\n      }\n      this.error = error;\n      this.missing = context.missing;\n      this.valid = (error === null);\n      return this.valid;\n    },\n    validateResult: () => {\n      let result = {};\n      this.validate.apply(result, arguments);\n      return result;\n    },\n    validateMultiple: (data, schema, checkRecursive, banUnknownProperties) => {\n      const context = new ValidatorContext(_myContext, true, languages[currentLanguage], checkRecursive, banUnknownProperties);\n      if (typeof schema === \"string\") {\n        schema = {\"$ref\": schema};\n      }\n      context.addSchema(\"\", schema);\n      context.validateAll(data, schema, null, null, \"\");\n      if (banUnknownProperties) {\n        context.banUnknownProperties();\n      }\n      let result = {};\n      result.errors = context.errors;\n      result.missing = context.missing;\n      result.valid = (result.errors.length === 0);\n      return result;\n    },\n    addSchema: (url, schema) => {\n      return _myContext.addSchema(url, schema);\n    },\n    getSchema: (url, urlHistory) => {\n      return _myContext.getSchema(url, urlHistory);\n    },\n    getSchemaMap: () => {\n      return _myContext.getSchemaMap.apply(_myContext, arguments);\n    },\n    getSchemaUris: () => {\n      return _myContext.getSchemaUris.apply(_myContext, arguments);\n    },\n    getMissingUris: () => {\n      return _myContext.getMissingUris.apply(_myContext, arguments);\n    },\n    dropSchemas: () => {\n      _myContext.dropSchemas.apply(_myContext, arguments);\n    },\n    defineKeyword: () => {\n      _myContext.defineKeyword.apply(_myContext, arguments);\n    },\n    defineError: (codeName, codeNumber, defaultMessage) => {\n      if (typeof codeName !== 'string' || !/^[A-Z]+(_[A-Z]+)*$/.test(codeName)) {\n        // TODO message bundle this\n        throw new Error('Code name must be a string in UPPER_CASE_WITH_UNDERSCORES');\n      }\n      if (typeof codeNumber !== 'number' || codeNumber%1 !== 0 || codeNumber < 10000) {\n        // TODO message bundle this\n        throw new Error('Code number must be an integer > 10000');\n      }\n      if (typeof ERROR_CODES[codeName] !== 'undefined') {\n        // TODO message bundle this\n        throw new Error('Error already defined: ' + codeName + ' as ' + ERROR_CODES[codeName]);\n      }\n      if (typeof ErrorCodeLookup[codeNumber] !== 'undefined') {\n        // TODO message bundle this\n        throw new Error('Error code already used: ' + ErrorCodeLookup[codeNumber] + ' as ' + codeNumber);\n      }\n      ERROR_CODES[codeName] = codeNumber;\n      ErrorCodeLookup[codeNumber] = codeName;\n      ERROR_MESSAGES_DEFAULT[codeName] = ERROR_MESSAGES_DEFAULT[codeNumber] = defaultMessage;\n      for (let langCode in languages) {\n        let language = languages[langCode];\n        if (language[codeName]) {\n          language[codeNumber] = language[codeNumber] || language[codeName];\n        }\n      }\n    },\n    reset: () => {\n      _myContext.reset();\n      this.error = null;\n      this.missing = [];\n      this.valid = true;\n    },\n    missing: [],\n    error: null,\n    valid: true,\n    normSchema: normSchema,\n    resolveUrl: resolveUrl,\n    getDocumentUri: getDocumentUri,\n    errorCodes: ERROR_CODES\n  };\n  return api;\n};\n\nexport default createApi;\n","import { ValidationError, ERROR_CODES, ERROR_MESSAGES_DEFAULT } from \"./validationError.js\";\nimport { normSchema, getDocumentUri } from \"./functions.js\";\n\nlet CLOSE_ENOUGH_LOW = Math.pow(2, -51);\nlet CLOSE_ENOUGH_HIGH = 1 - CLOSE_ENOUGH_LOW;\n\nclass ValidatorContext {\n  constructor(parent, collectMultiple, errorMessages, checkRecursive, trackUnknownProperties) {\n    this.missing = [];\n    this.missingMap = {};\n    this.formatValidators = parent ? Object.create(parent.formatValidators) : {};\n    this.schemas = parent ? Object.create(parent.schemas) : {};\n    this.collectMultiple = collectMultiple;\n    this.errors = [];\n    this.handleError = collectMultiple ? this.collectError : this.returnError;\n    if (checkRecursive) {\n      this.checkRecursive = true;\n      this.scanned = [];\n      this.scannedFrozen = [];\n      this.scannedFrozenSchemas = [];\n      this.scannedFrozenValidationErrors = [];\n      this.validatedSchemasKey = 'tv4_validation_id';\n      this.validationErrorsKey = 'tv4_validation_errors_id';\n    }\n    if (trackUnknownProperties) {\n      this.trackUnknownProperties = true;\n      this.knownPropertyPaths = {};\n      this.unknownPropertyPaths = {};\n    }\n    this.errorMessages = errorMessages;\n    this.definedKeywords = {};\n    if (parent) {\n      for (let key in parent.definedKeywords) {\n        this.definedKeywords[key] = parent.definedKeywords[key].slice(0);\n      }\n    }\n  };\n\n  notReallyPercentEncode(string) {\n    return encodeURI(string).replace(/%25[0-9][0-9]/g, (doubleEncoded) => {\n      return \"%\" + doubleEncoded.substring(3);\n    });\n  };\n\n  uriTemplateSubstitution(spec) {\n    let modifier = \"\";\n    if (URI_TEMPLATE_GLOBAL_MODIFIERS[spec.charAt(0)]) {\n      modifier = spec.charAt(0);\n      spec = spec.substring(1);\n    }\n    let separator = \"\";\n    let prefix = \"\";\n    let shouldEscape = true;\n    let showVariables = false;\n    let trimEmptyString = false;\n    if (modifier === '+') {\n      shouldEscape = false;\n    } else if (modifier === \".\") {\n      prefix = \".\";\n      separator = \".\";\n    } else if (modifier === \"/\") {\n      prefix = \"/\";\n      separator = \"/\";\n    } else if (modifier === '#') {\n      prefix = \"#\";\n      shouldEscape = false;\n    } else if (modifier === ';') {\n      prefix = \";\";\n      separator = \";\";\n      showVariables = true;\n      trimEmptyString = true;\n    } else if (modifier === '?') {\n      prefix = \"?\";\n      separator = \"&\";\n      showVariables = true;\n    } else if (modifier === '&') {\n      prefix = \"&\";\n      separator = \"&\";\n      showVariables = true;\n    }\n\n    let varNames = [];\n    let varList = spec.split(\",\");\n    let varSpecs = [];\n    let varSpecMap = {};\n    let i = 0, l = varList.length;\n    for (i = 0; i < l; i++) {\n      let varName = varList[i];\n      let truncate = null;\n      if (varName.indexOf(\":\") !== -1) {\n        let parts = varName.split(\":\");\n        varName = parts[0];\n        truncate = parseInt(parts[1], 10);\n      }\n      let suffices = {};\n      while (URI_TEMPLATE_SUFFICES[varName.charAt(varName.length - 1)]) {\n        suffices[varName.charAt(varName.length - 1)] = true;\n        varName = varName.substring(0, varName.length - 1);\n      }\n      let varSpec = {\n        truncate: truncate,\n        name: varName,\n        suffices: suffices\n      };\n      varSpecs.push(varSpec);\n      varSpecMap[varName] = varSpec;\n      varNames.push(varName);\n    }\n\n    const subFunction = (valueFunction) => {\n      let result = \"\";\n      let startIndex = 0;\n      let i = 0, l = varSpecs.length;\n      for (i = 0; i < l; i++) {\n        let varSpec = varSpecs[i];\n\n        if (!valueFunction && !isFunction(valueFunction)) {\n          throw new Error(\"Problem qith value function.\");\n        }\n\n        let value = valueFunction(varSpec.name);\n        if (value === null || value === undefined || (Array.isArray(value) && value.length === 0) || (typeof value === 'object' && Object.keys(value).length === 0)) {\n          startIndex++;\n          continue;\n        }\n        if (i === startIndex) {\n          result += prefix;\n        } else {\n          result += (separator || \",\");\n        }\n        if (Array.isArray(value)) {\n          if (showVariables) {\n            result += varSpec.name + \"=\";\n          }\n          let j = 0;\n          l = value.length;\n          for (j = 0; j < l; j++) {\n            if (j > 0) {\n              result += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n              if (varSpec.suffices['*'] && showVariables) {\n                result += varSpec.name + \"=\";\n              }\n            }\n            result += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : this.notReallyPercentEncode(value[j]);\n          }\n        } else if (typeof value === \"object\") {\n          if (showVariables && !varSpec.suffices['*']) {\n            result += varSpec.name + \"=\";\n          }\n          let first = true;\n          for (let key in value) {\n            if (!first) {\n              result += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n            }\n            first = false;\n            result += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : this.notReallyPercentEncode(key);\n            result += varSpec.suffices['*'] ? '=' : \",\";\n            result += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : this.notReallyPercentEncode(value[key]);\n          }\n        } else {\n          if (showVariables) {\n            result += varSpec.name;\n            if (!trimEmptyString || value !== \"\") {\n              result += \"=\";\n            }\n          }\n          if (varSpec.truncate !== null) {\n            value = value.substring(0, varSpec.truncate);\n          }\n          result += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): this.notReallyPercentEncode(value);\n        }\n      }\n      return result;\n    };\n    subFunction.varNames = varNames;\n    return {\n      prefix: prefix,\n      substitution: subFunction\n    };\n  };\n\n  recursiveCompare(A, B) {\n    if (A === B) {\n      return true;\n    }\n    if (typeof A === \"object\" && typeof B === \"object\") {\n      if (Array.isArray(A) !== Array.isArray(B)) {\n        return false;\n      } else if (Array.isArray(A)) {\n        if (A.length !== B.length) {\n          return false;\n        }\n        let i = 0, l = A.length;\n        for (i = 0; i < l; i++) {\n          if (!this.recursiveCompare(A[i], B[i])) {\n            return false;\n          }\n        }\n      } else {\n        let key;\n        for (key in A) {\n          if (B[key] === undefined && A[key] !== undefined) {\n            return false;\n          }\n        }\n        for (key in B) {\n          if (A[key] === undefined && B[key] !== undefined) {\n            return false;\n          }\n        }\n        for (key in A) {\n          if (!this.recursiveCompare(A[key], B[key])) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  };\n\n  defineKeyword(keyword, keywordFunction) {\n    this.definedKeywords[keyword] = this.definedKeywords[keyword] || [];\n    this.definedKeywords[keyword].push(keywordFunction);\n  };\n\n  createError(code, messageParams, dataPath, schemaPath, subErrors) {\n    let messageTemplate = this.errorMessages[code] || ERROR_MESSAGES_DEFAULT[code];\n    if (typeof messageTemplate !== 'string') {\n      return new ValidationError(code, \"Unknown error code \" + code + \": \" + JSON.stringify(messageParams), messageParams, dataPath, schemaPath, subErrors);\n    }\n    // Adapted from Crockford's supplant()\n    let message = messageTemplate.replace(/\\{([^{}]*)\\}/g, function (whole, varName) {\n      let subValue = messageParams[varName];\n      return typeof subValue === 'string' || typeof subValue === 'number' ? subValue : whole;\n    });\n    return new ValidationError(code, message, messageParams, dataPath, schemaPath, subErrors);\n  };\n  returnError(error) {\n    return error;\n  };\n\n  collectError(error) {\n    if (error) {\n      this.errors.push(error);\n    }\n    return null;\n  };\n\n  prefixErrors(startIndex, dataPath, schemaPath) {\n    let i = 0, l = this.errors.length;\n    for (i = startIndex; i < l; i++) {\n      this.errors[i] = this.errors[i].prefixWith(dataPath, schemaPath);\n    }\n    return this;\n  };\n\n  banUnknownProperties() {\n    for (let unknownPath in this.unknownPropertyPaths) {\n      let error = this.createError(ERROR_CODES.UNKNOWN_PROPERTY, {path: unknownPath}, unknownPath, \"\");\n      let result = this.handleError(error);\n      if (result) {\n        return result;\n      }\n    }\n    return null;\n  };\n  addFormat(format, validator) {\n    if (typeof format === 'object') {\n      for (let key in format) {\n        this.addFormat(key, format[key]);\n      }\n      return this;\n    }\n    this.formatValidators[format] = validator;\n  };\n  resolveRefs(schema, urlHistory) {\n    if (schema['$ref'] !== undefined) {\n      urlHistory = urlHistory || {};\n      if (urlHistory[schema['$ref']]) {\n        return this.createError(ERROR_CODES.CIRCULAR_REFERENCE, {urls: Object.keys(urlHistory).join(', ')}, '', '');\n      }\n      urlHistory[schema['$ref']] = true;\n      schema = this.getSchema(schema['$ref'], urlHistory);\n    }\n    return schema;\n  };\n  getSchema(url, urlHistory) {\n    let schema;\n    if (this.schemas[url] !== undefined) {\n      schema = this.schemas[url];\n      return this.resolveRefs(schema, urlHistory);\n    }\n    let baseUrl = url;\n    let fragment = \"\";\n    if (url.indexOf('#') !== -1) {\n      fragment = url.substring(url.indexOf(\"#\") + 1);\n      baseUrl = url.substring(0, url.indexOf(\"#\"));\n    }\n    if (typeof this.schemas[baseUrl] === 'object') {\n      schema = this.schemas[baseUrl];\n      let pointerPath = decodeURIComponent(fragment);\n      if (pointerPath === \"\") {\n        return this.resolveRefs(schema, urlHistory);\n      } else if (pointerPath.charAt(0) !== \"/\") {\n        return undefined;\n      }\n      let parts = pointerPath.split(\"/\").slice(1);\n      let i = 0, l = parts.length;\n      for (i = 0; i < l; i++) {\n        let component = parts[i].replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n        if (schema[component] === undefined) {\n          schema = undefined;\n          break;\n        }\n        schema = schema[component];\n      }\n      if (schema !== undefined) {\n        return this.resolveRefs(schema, urlHistory);\n      }\n    }\n    if (this.missing[baseUrl] === undefined) {\n      this.missing.push(baseUrl);\n      this.missing[baseUrl] = baseUrl;\n      this.missingMap[baseUrl] = baseUrl;\n    }\n  };\n  searchSchemas(schema, url) {\n    if (Array.isArray(schema)) {\n      let i = 0, l = schema.length;\n      for (i = 0; i < l; i++) {\n        this.searchSchemas(schema[i], url);\n      }\n    } else if (schema && typeof schema === \"object\") {\n      if (typeof schema.id === \"string\") {\n        if (isTrustedUrl(url, schema.id)) {\n          if (this.schemas[schema.id] === undefined) {\n            this.schemas[schema.id] = schema;\n          }\n        }\n      }\n      for (let key in schema) {\n        if (key !== \"enum\") {\n          if (typeof schema[key] === \"object\") {\n            this.searchSchemas(schema[key], url);\n          } else if (key === \"$ref\") {\n            let uri = getDocumentUri(schema[key]);\n            if (uri && this.schemas[uri] === undefined && this.missingMap[uri] === undefined) {\n              this.missingMap[uri] = uri;\n            }\n          }\n        }\n      }\n    }\n  };\n  addSchema(url, schema) {\n    // overload\n    if (typeof url !== 'string' || typeof schema === 'undefined') {\n      if (typeof url === 'object' && typeof url.id === 'string') {\n        schema = url;\n        url = schema.id;\n      } else {\n        return;\n      }\n    }\n    if (url === getDocumentUri(url) + \"#\") {\n      // Remove empty fragment\n      url = getDocumentUri(url);\n    }\n    this.schemas[url] = schema;\n    delete this.missingMap[url];\n    normSchema(schema, url);\n    this.searchSchemas(schema, url);\n  };\n\n  getSchemaMap() {\n    let map = {};\n    for (let key in this.schemas) {\n      map[key] = this.schemas[key];\n    }\n    return map;\n  };\n\n  getSchemaUris(filterRegExp) {\n    let list = [];\n    for (let key in this.schemas) {\n      if (!filterRegExp || filterRegExp.test(key)) {\n        list.push(key);\n      }\n    }\n    return list;\n  };\n\n  getMissingUris(filterRegExp) {\n    let list = [];\n    for (let key in this.missingMap) {\n      if (!filterRegExp || filterRegExp.test(key)) {\n        list.push(key);\n      }\n    }\n    return list;\n  };\n\n  dropSchemas() {\n    this.schemas = {};\n    this.reset();\n  };\n\n  reset() {\n    this.missing = [];\n    this.missingMap = {};\n    this.errors = [];\n  };\n\n  validateAll(data, schema, dataPathParts, schemaPathParts, dataPointerPath) {\n    let topLevel;\n    schema = this.resolveRefs(schema);\n\n    if (!schema) {\n      return null;\n    } else if (schema instanceof ValidationError) {\n      this.errors.push(schema);\n      return schema;\n    }\n\n    let startErrorCount = this.errors.length;\n    let frozenIndex, scannedFrozenSchemaIndex = null, scannedSchemasIndex = null;\n    if (this.checkRecursive && data && typeof data === 'object') {\n      topLevel = !this.scanned.length;\n      if (data[this.validatedSchemasKey]) {\n        let schemaIndex = data[this.validatedSchemasKey].indexOf(schema);\n        if (schemaIndex !== -1) {\n          this.errors = this.errors.concat(data[this.validationErrorsKey][schemaIndex]);\n          return null;\n        }\n      }\n      if (Object.isFrozen(data)) {\n        frozenIndex = this.scannedFrozen.indexOf(data);\n        if (frozenIndex !== -1) {\n          let frozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].indexOf(schema);\n          if (frozenSchemaIndex !== -1) {\n            this.errors = this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]);\n            return null;\n          }\n        }\n      }\n      this.scanned.push(data);\n      if (Object.isFrozen(data)) {\n        if (frozenIndex === -1) {\n          frozenIndex = this.scannedFrozen.length;\n          this.scannedFrozen.push(data);\n          this.scannedFrozenSchemas.push([]);\n        }\n        scannedFrozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].length;\n        this.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex] = schema;\n        this.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = [];\n      } else {\n        if (!data[this.validatedSchemasKey]) {\n          try {\n            Object.defineProperty(data, this.validatedSchemasKey, {\n              value: [],\n              configurable: true\n            });\n            Object.defineProperty(data, this.validationErrorsKey, {\n              value: [],\n              configurable: true\n            });\n          } catch (e) {\n            // IE 7/8 workaround\n            data[this.validatedSchemasKey] = [];\n            data[this.validationErrorsKey] = [];\n          }\n        }\n        scannedSchemasIndex = data[this.validatedSchemasKey].length;\n        data[this.validatedSchemasKey][scannedSchemasIndex] = schema;\n        data[this.validationErrorsKey][scannedSchemasIndex] = [];\n      }\n    }\n\n    let errorCount = this.errors.length;\n    let error = this.validateBasic(data, schema, dataPointerPath) || this.validateNumeric(data, schema, dataPointerPath) || this.validateString(data, schema, dataPointerPath) || this.validateArray(data, schema, dataPointerPath) || this.validateObject(data, schema, dataPointerPath) || this.validateCombinations(data, schema, dataPointerPath) || this.validateHypermedia(data, schema, dataPointerPath) || this.validateFormat(data, schema, dataPointerPath) || this.validateDefinedKeywords(data, schema, dataPointerPath) || null;\n\n    if (topLevel) {\n      while (this.scanned.length) {\n        let item = this.scanned.pop();\n        delete item[this.validatedSchemasKey];\n      }\n      this.scannedFrozen = [];\n      this.scannedFrozenSchemas = [];\n    }\n\n    if (error || errorCount !== this.errors.length) {\n      while ((dataPathParts && dataPathParts.length) || (schemaPathParts && schemaPathParts.length)) {\n        let dataPart = (dataPathParts && dataPathParts.length) ? \"\" + dataPathParts.pop() : null;\n        let schemaPart = (schemaPathParts && schemaPathParts.length) ? \"\" + schemaPathParts.pop() : null;\n        if (error) {\n          error = error.prefixWith(dataPart, schemaPart);\n        }\n        this.prefixErrors(errorCount, dataPart, schemaPart);\n      }\n    }\n\n    if (scannedFrozenSchemaIndex !== null) {\n      this.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = this.errors.slice(startErrorCount);\n    } else if (scannedSchemasIndex !== null) {\n      data[this.validationErrorsKey][scannedSchemasIndex] = this.errors.slice(startErrorCount);\n    }\n\n    return this.handleError(error);\n  };\n\n  validateFormat(data, schema) {\n    if (typeof schema.format !== 'string' || !this.formatValidators[schema.format]) {\n      return null;\n    }\n    let errorMessage = this.formatValidators[schema.format].call(null, data, schema);\n    if (typeof errorMessage === 'string' || typeof errorMessage === 'number') {\n      return this.createError(ERROR_CODES.FORMAT_CUSTOM, {message: errorMessage}).prefixWith(null, \"format\");\n    } else if (errorMessage && typeof errorMessage === 'object') {\n      return this.createError(ERROR_CODES.FORMAT_CUSTOM, {message: errorMessage.message || \"?\"}, errorMessage.dataPath || null, errorMessage.schemaPath || \"/format\");\n    }\n    return null;\n  };\n\n  validateDefinedKeywords(data, schema, dataPointerPath) {\n    for (let key in this.definedKeywords) {\n      if (typeof schema[key] === 'undefined') {\n        continue;\n      }\n      let validationFunctions = this.definedKeywords[key];\n      let i = 0, l = validationFunctions.length;\n      for (i = 0; i < l; i++) {\n        let func = validationFunctions[i];\n        let result = func(data, schema[key], schema, dataPointerPath);\n        if (typeof result === 'string' || typeof result === 'number') {\n          return this.createError(ERROR_CODES.KEYWORD_CUSTOM, {key: key, message: result}).prefixWith(null, \"format\");\n        } else if (result && typeof result === 'object') {\n          let code = result.code;\n          if (typeof code === 'string') {\n            if (!ERROR_CODES[code]) {\n              throw new Error('Undefined error code (use defineError): ' + code);\n            }\n            code = ERROR_CODES[code];\n          } else if (typeof code !== 'number') {\n            code = ERROR_CODES.KEYWORD_CUSTOM;\n          }\n          let messageParams = (typeof result.message === 'object') ? result.message : {key: key, message: result.message || \"?\"};\n          let schemaPath = result.schemaPath ||( \"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1'));\n          return this.createError(code, messageParams, result.dataPath || null, schemaPath);\n        }\n      }\n    }\n    return null;\n  };\n\n  validateBasic(data, schema, dataPointerPath) {\n    let error = this.validateType(data, schema, dataPointerPath);\n    if (error) {\n      return error.prefixWith(null, \"type\");\n    }\n      /*if (error = this.validateEnum(data, schema, dataPointerPath)) {\n      return error.prefixWith(null, \"type\");\n    }*/\n    return null;\n  };\n\n  validateType(data, schema) {\n    if (schema.type === undefined) {\n      return null;\n    }\n    let dataType = typeof data;\n    if (data === null) {\n      dataType = \"null\";\n    } else if (Array.isArray(data)) {\n      dataType = \"array\";\n    }\n    let allowedTypes = schema.type;\n    if (typeof allowedTypes !== \"object\") {\n      allowedTypes = [allowedTypes];\n    }\n\n    let i = 0, l = allowedTypes.length;\n    for (i = 0; i < l; i++) {\n      let type = allowedTypes[i];\n      if (type === dataType || (type === \"integer\" && dataType === \"number\" && (data % 1 === 0))) {\n        return null;\n      }\n    }\n    return this.createError(ERROR_CODES.INVALID_TYPE, {type: dataType, expected: allowedTypes.join(\"/\")});\n  };\n\n  validateEnum(data, schema) {\n    if (schema[\"enum\"] === undefined) {\n      return null;\n    }\n    let i = 0, l = schema[\"enum\"].length;\n    for (i = 0; i < l; i++) {\n      let enumVal = schema[\"enum\"][i];\n      if (this.recursiveCompare(data, enumVal)) {\n        return null;\n      }\n    }\n    return this.createError(ERROR_CODES.ENUM_MISMATCH, {value: (typeof JSON !== 'undefined') ? JSON.stringify(data) : data});\n  };\n\n  validateNumeric(data, schema, dataPointerPath) {\n    return this.validateMultipleOf(data, schema, dataPointerPath) || this.validateMinMax(data, schema, dataPointerPath) || this.validateNaN(data, schema, dataPointerPath) || null;\n  };\n\n  validateMultipleOf(data, schema) {\n    let multipleOf = schema.multipleOf || schema.divisibleBy;\n    if (multipleOf === undefined) {\n      return null;\n    }\n    if (typeof data === \"number\") {\n      let remainder = (data/multipleOf)%1;\n      if (remainder >= CLOSE_ENOUGH_LOW && remainder < CLOSE_ENOUGH_HIGH) {\n        return this.createError(ERROR_CODES.NUMBER_MULTIPLE_OF, {value: data, multipleOf: multipleOf});\n      }\n    }\n    return null;\n  };\n\n  validateMinMax(data, schema) {\n    if (typeof data !== \"number\") {\n      return null;\n    }\n    if (schema.minimum !== undefined) {\n      if (data < schema.minimum) {\n        return this.createError(ERROR_CODES.NUMBER_MINIMUM, {value: data, minimum: schema.minimum}).prefixWith(null, \"minimum\");\n      }\n      if (schema.exclusiveMinimum && data === schema.minimum) {\n        return this.createError(ERROR_CODES.NUMBER_MINIMUM_EXCLUSIVE, {value: data, minimum: schema.minimum}).prefixWith(null, \"exclusiveMinimum\");\n      }\n    }\n    if (schema.maximum !== undefined) {\n      if (data > schema.maximum) {\n        return this.createError(ERROR_CODES.NUMBER_MAXIMUM, {value: data, maximum: schema.maximum}).prefixWith(null, \"maximum\");\n      }\n      if (schema.exclusiveMaximum && data === schema.maximum) {\n        return this.createError(ERROR_CODES.NUMBER_MAXIMUM_EXCLUSIVE, {value: data, maximum: schema.maximum}).prefixWith(null, \"exclusiveMaximum\");\n      }\n    }\n    return null;\n  };\n\n  validateNaN(data) {\n    if (typeof data !== \"number\") {\n      return null;\n    }\n    if (isNaN(data) === true || data === Infinity || data === -Infinity) {\n      return this.createError(ERROR_CODES.NUMBER_NOT_A_NUMBER, {value: data}).prefixWith(null, \"type\");\n    }\n    return null;\n  };\n\n  validateString(data, schema, dataPointerPath) {\n    return this.validateStringLength(data, schema, dataPointerPath) || this.validateStringPattern(data, schema, dataPointerPath) || null;\n  };\n\n  validateStringLength(data, schema) {\n    if (typeof data !== \"string\") {\n      return null;\n    }\n    if (schema.minLength !== undefined) {\n      if (data.length < schema.minLength) {\n        return this.createError(ERROR_CODES.STRING_LENGTH_SHORT, {length: data.length, minimum: schema.minLength}).prefixWith(null, \"minLength\");\n      }\n    }\n    if (schema.maxLength !== undefined) {\n      if (data.length > schema.maxLength) {\n        return this.createError(ERROR_CODES.STRING_LENGTH_LONG, {length: data.length, maximum: schema.maxLength}).prefixWith(null, \"maxLength\");\n      }\n    }\n    return null;\n  };\n\n  validateStringPattern(data, schema) {\n    if (typeof data !== \"string\" || schema.pattern === undefined) {\n      return null;\n    }\n    let regexp = new RegExp(schema.pattern);\n    if (!regexp.test(data)) {\n      return this.createError(ERROR_CODES.STRING_PATTERN, {pattern: schema.pattern}).prefixWith(null, \"pattern\");\n    }\n    return null;\n  };\n  validateArray(data, schema, dataPointerPath) {\n    if (!Array.isArray(data)) {\n      return null;\n    }\n    return this.validateArrayLength(data, schema, dataPointerPath) || this.validateArrayUniqueItems(data, schema, dataPointerPath) || this.validateArrayItems(data, schema, dataPointerPath) || null;\n  };\n\n  validateArrayLength(data, schema) {\n    let error;\n    if (schema.minItems !== undefined) {\n      if (data.length < schema.minItems) {\n        error = (this.createError(ERROR_CODES.ARRAY_LENGTH_SHORT, {length: data.length, minimum: schema.minItems})).prefixWith(null, \"minItems\");\n        if (this.handleError(error)) {\n          return error;\n        }\n      }\n    }\n    if (schema.maxItems !== undefined) {\n      if (data.length > schema.maxItems) {\n        error = (this.createError(ERROR_CODES.ARRAY_LENGTH_LONG, {length: data.length, maximum: schema.maxItems})).prefixWith(null, \"maxItems\");\n        if (this.handleError(error)) {\n          return error;\n        }\n      }\n    }\n    return null;\n  };\n\n  validateArrayUniqueItems(data, schema) {\n    if (schema.uniqueItems) {\n      let i = 0, l = data.length;\n      for (i = 0; i < l; i++) {\n        let j = 0;\n        for (j = i + 1; j < l; j++) {\n          if (recursiveCompare(data[i], data[j])) {\n            let error = (this.createError(ERROR_CODES.ARRAY_UNIQUE, {match1: i, match2: j})).prefixWith(null, \"uniqueItems\");\n            if (this.handleError(error)) {\n              return error;\n            }\n          }\n        }\n      }\n    }\n    return null;\n  };\n\n  validateArrayItems(data, schema, dataPointerPath) {\n    if (schema.items === undefined) {\n      return null;\n    }\n    let error, i;\n    if (Array.isArray(schema.items)) {\n      let l = data.length;\n      for (i = 0; i < l; i++) {\n        if (i < schema.items.length) {\n          if (error = this.validateAll(data[i], schema.items[i], [i], [\"items\", i], dataPointerPath + \"/\" + i)) {\n            return error;\n          }\n        } else if (schema.additionalItems !== undefined) {\n          if (typeof schema.additionalItems === \"boolean\") {\n            if (!schema.additionalItems) {\n              error = (this.createError(ERROR_CODES.ARRAY_ADDITIONAL_ITEMS, {})).prefixWith(\"\" + i, \"additionalItems\");\n              if (this.handleError(error)) {\n                return error;\n              }\n            }\n          } else if (error = this.validateAll(data[i], schema.additionalItems, [i], [\"additionalItems\"], dataPointerPath + \"/\" + i)) {\n            return error;\n          }\n        }\n      }\n    } else {\n      let l = data.length;\n      for (i = 0; i < l; i++) {\n        if (error = this.validateAll(data[i], schema.items, [i], [\"items\"], dataPointerPath + \"/\" + i)) {\n          return error;\n        }\n      }\n    }\n    return null;\n  };\n\n  validateObject(data, schema, dataPointerPath) {\n    if (typeof data !== \"object\" || data === null || Array.isArray(data)) {\n      return null;\n    }\n    return this.validateObjectMinMaxProperties(data, schema, dataPointerPath) || this.validateObjectRequiredProperties(data, schema, dataPointerPath) || this.validateObjectProperties(data, schema, dataPointerPath) || this.validateObjectDependencies(data, schema, dataPointerPath) || null;\n  };\n\n  validateObjectMinMaxProperties(data, schema) {\n    let keys = Object.keys(data);\n    let error;\n    if (schema.minProperties !== undefined) {\n      if (keys.length < schema.minProperties) {\n        error = this.createError(ERROR_CODES.OBJECT_PROPERTIES_MINIMUM, {propertyCount: keys.length, minimum: schema.minProperties}).prefixWith(null, \"minProperties\");\n        if (this.handleError(error)) {\n          return error;\n        }\n      }\n    }\n    if (schema.maxProperties !== undefined) {\n      if (keys.length > schema.maxProperties) {\n        error = this.createError(ERROR_CODES.OBJECT_PROPERTIES_MAXIMUM, {propertyCount: keys.length, maximum: schema.maxProperties}).prefixWith(null, \"maxProperties\");\n        if (this.handleError(error)) {\n          return error;\n        }\n      }\n    }\n    return null;\n  };\n\n  validateObjectRequiredProperties(data, schema) {\n    if (schema.required !== undefined) {\n      let i = 0, l = schema.required.length;\n      for (i = 0; i < l; i++) {\n        let key = schema.required[i];\n        if (data[key] === undefined) {\n          let error = this.createError(ERROR_CODES.OBJECT_REQUIRED, {key: key}).prefixWith(null, \"\" + i).prefixWith(null, \"required\");\n          if (this.handleError(error)) {\n            return error;\n          }\n        }\n      }\n    }\n    return null;\n  };\n\n  validateObjectProperties(data, schema, dataPointerPath) {\n    let error;\n    for (let key in data) {\n      let keyPointerPath = dataPointerPath + \"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1');\n      let foundMatch = false;\n      if (schema.properties !== undefined && schema.properties[key] !== undefined) {\n        foundMatch = true;\n        if (error = this.validateAll(data[key], schema.properties[key], [key], [\"properties\", key], keyPointerPath)) {\n          return error;\n        }\n      }\n      if (schema.patternProperties !== undefined) {\n        for (let patternKey in schema.patternProperties) {\n          let regexp = new RegExp(patternKey);\n          if (regexp.test(key)) {\n            foundMatch = true;\n            if (error = this.validateAll(data[key], schema.patternProperties[patternKey], [key], [\"patternProperties\", patternKey], keyPointerPath)) {\n              return error;\n            }\n          }\n        }\n      }\n      if (!foundMatch) {\n        if (schema.additionalProperties !== undefined) {\n          if (this.trackUnknownProperties) {\n            this.knownPropertyPaths[keyPointerPath] = true;\n            delete this.unknownPropertyPaths[keyPointerPath];\n          }\n          if (typeof schema.additionalProperties === \"boolean\") {\n            if (!schema.additionalProperties) {\n              error = this.createError(ERROR_CODES.OBJECT_ADDITIONAL_PROPERTIES, {}).prefixWith(key, \"additionalProperties\");\n              if (this.handleError(error)) {\n                return error;\n              }\n            }\n          } else {\n            if (error = this.validateAll(data[key], schema.additionalProperties, [key], [\"additionalProperties\"], keyPointerPath)) {\n              return error;\n            }\n          }\n        } else if (this.trackUnknownProperties && !this.knownPropertyPaths[keyPointerPath]) {\n          this.unknownPropertyPaths[keyPointerPath] = true;\n        }\n      } else if (this.trackUnknownProperties) {\n        this.knownPropertyPaths[keyPointerPath] = true;\n        delete this.unknownPropertyPaths[keyPointerPath];\n      }\n    }\n    return null;\n  };\n\n  validateObjectDependencies(data, schema, dataPointerPath) {\n    let error;\n    if (schema.dependencies !== undefined) {\n      for (let depKey in schema.dependencies) {\n        if (data[depKey] !== undefined) {\n          let dep = schema.dependencies[depKey];\n          if (typeof dep === \"string\") {\n            if (data[dep] === undefined) {\n              error = this.createError(ERROR_CODES.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: dep}).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\n              if (this.handleError(error)) {\n                return error;\n              }\n            }\n          } else if (Array.isArray(dep)) {\n            let i = 0, l = dep.lenth;\n            for (i = 0; i < l; i++) {\n              let requiredKey = dep[i];\n              if (data[requiredKey] === undefined) {\n                error = this.createError(ERROR_CODES.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: requiredKey}).prefixWith(null, \"\" + i).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\n                if (this.handleError(error)) {\n                  return error;\n                }\n              }\n            }\n          } else {\n            if (error = this.validateAll(data, dep, [], [\"dependencies\", depKey], dataPointerPath)) {\n              return error;\n            }\n          }\n        }\n      }\n    }\n    return null;\n  };\n\n  validateCombinations(data, schema, dataPointerPath) {\n    return this.validateAllOf(data, schema, dataPointerPath) || this.validateAnyOf(data, schema, dataPointerPath) || this.validateOneOf(data, schema, dataPointerPath) || this.validateNot(data, schema, dataPointerPath) || null;\n  };\n\n  validateAllOf(data, schema, dataPointerPath) {\n    if (schema.allOf === undefined) {\n      return null;\n    }\n    let error;\n    let i = 0, l = schema.allOf.length;\n    for (i = 0; i < l; i++) {\n      let subSchema = schema.allOf[i];\n      if (error = this.validateAll(data, subSchema, [], [\"allOf\", i], dataPointerPath)) {\n        return error;\n      }\n    }\n    return null;\n  };\n\n  validateAnyOf(data, schema, dataPointerPath) {\n    if (schema.anyOf === undefined) {\n      return null;\n    }\n    let errors = [];\n    let startErrorCount = this.errors.length;\n    let oldUnknownPropertyPaths, oldKnownPropertyPaths;\n    if (this.trackUnknownProperties) {\n      oldUnknownPropertyPaths = this.unknownPropertyPaths;\n      oldKnownPropertyPaths = this.knownPropertyPaths;\n    }\n    let errorAtEnd = true;\n    let i = 0, l = schema.anyOf.length;\n    for (i = 0; i < l; i++) {\n      if (this.trackUnknownProperties) {\n        this.unknownPropertyPaths = {};\n        this.knownPropertyPaths = {};\n      }\n      let subSchema = schema.anyOf[i];\n\n      let errorCount = this.errors.length;\n      let error = this.validateAll(data, subSchema, [], [\"anyOf\", i], dataPointerPath);\n\n      if (error === null && errorCount === this.errors.length) {\n        this.errors = this.errors.slice(0, startErrorCount);\n\n        if (this.trackUnknownProperties) {\n          for (let knownKey in this.knownPropertyPaths) {\n            oldKnownPropertyPaths[knownKey] = true;\n            delete oldUnknownPropertyPaths[knownKey];\n          }\n          for (let unknownKey in this.unknownPropertyPaths) {\n            if (!oldKnownPropertyPaths[unknownKey]) {\n              oldUnknownPropertyPaths[unknownKey] = true;\n            }\n          }\n          // We need to continue looping so we catch all the\n          // property definitions, but we don't want to return an\n          // error\n          errorAtEnd = false;\n          continue;\n        }\n\n        return null;\n      }\n      if (error) {\n        errors.push(error.prefixWith(null, \"\" + i).prefixWith(null, \"anyOf\"));\n      }\n    }\n    if (this.trackUnknownProperties) {\n      this.unknownPropertyPaths = oldUnknownPropertyPaths;\n      this.knownPropertyPaths = oldKnownPropertyPaths;\n    }\n    if (errorAtEnd) {\n      errors = errors.concat(this.errors.slice(startErrorCount));\n      this.errors = this.errors.slice(0, startErrorCount);\n      return this.createError(ERROR_CODES.ANY_OF_MISSING, {}, \"\", \"/anyOf\", errors);\n    }\n  };\n\n  validateOneOf(data, schema, dataPointerPath) {\n    if (schema.oneOf === undefined) {\n      return null;\n    }\n    let validIndex = null;\n    let errors = [];\n    let startErrorCount = this.errors.length;\n    let oldUnknownPropertyPaths, oldKnownPropertyPaths;\n    if (this.trackUnknownProperties) {\n      oldUnknownPropertyPaths = this.unknownPropertyPaths;\n      oldKnownPropertyPaths = this.knownPropertyPaths;\n    }\n    let i = 0, l = schema.oneOf.length;\n    for (i = 0; i < l; i++) {\n      if (this.trackUnknownProperties) {\n        this.unknownPropertyPaths = {};\n        this.knownPropertyPaths = {};\n      }\n      let subSchema = schema.oneOf[i];\n\n      let errorCount = this.errors.length;\n      let error = this.validateAll(data, subSchema, [], [\"oneOf\", i], dataPointerPath);\n\n      if (error === null && errorCount === this.errors.length) {\n        if (validIndex === null) {\n          validIndex = i;\n        } else {\n          this.errors = this.errors.slice(0, startErrorCount);\n          return this.createError(ERROR_CODES.ONE_OF_MULTIPLE, {index1: validIndex, index2: i}, \"\", \"/oneOf\");\n        }\n        if (this.trackUnknownProperties) {\n          for (let knownKey in this.knownPropertyPaths) {\n            oldKnownPropertyPaths[knownKey] = true;\n            delete oldUnknownPropertyPaths[knownKey];\n          }\n          for (let unknownKey in this.unknownPropertyPaths) {\n            if (!oldKnownPropertyPaths[unknownKey]) {\n              oldUnknownPropertyPaths[unknownKey] = true;\n            }\n          }\n        }\n      } else if (error) {\n        errors.push(error);\n      }\n    }\n    if (this.trackUnknownProperties) {\n      this.unknownPropertyPaths = oldUnknownPropertyPaths;\n      this.knownPropertyPaths = oldKnownPropertyPaths;\n    }\n    if (validIndex === null) {\n      errors = errors.concat(this.errors.slice(startErrorCount));\n      this.errors = this.errors.slice(0, startErrorCount);\n      return this.createError(ERROR_CODES.ONE_OF_MISSING, {}, \"\", \"/oneOf\", errors);\n    } else {\n      this.errors = this.errors.slice(0, startErrorCount);\n    }\n    return null;\n  };\n\n  validateNot(data, schema, dataPointerPath) {\n    if (schema.not === undefined) {\n      return null;\n    }\n    let oldErrorCount = this.errors.length;\n    let oldUnknownPropertyPaths, oldKnownPropertyPaths;\n    if (this.trackUnknownProperties) {\n      oldUnknownPropertyPaths = this.unknownPropertyPaths;\n      oldKnownPropertyPaths = this.knownPropertyPaths;\n      this.unknownPropertyPaths = {};\n      this.knownPropertyPaths = {};\n    }\n    let error = this.validateAll(data, schema.not, null, null, dataPointerPath);\n    let notErrors = this.errors.slice(oldErrorCount);\n    this.errors = this.errors.slice(0, oldErrorCount);\n    if (this.trackUnknownProperties) {\n      this.unknownPropertyPaths = oldUnknownPropertyPaths;\n      this.knownPropertyPaths = oldKnownPropertyPaths;\n    }\n    if (error === null && notErrors.length === 0) {\n      return this.createError(ERROR_CODES.NOT_PASSED, {}, \"\", \"/not\");\n    }\n    return null;\n  };\n\n  validateHypermedia(data, schema, dataPointerPath) {\n    if (!schema.links) {\n      return null;\n    }\n    let error;\n    let i = 0, l = schema.links.length;\n    for (i = 0; i < l; i++) {\n      let ldo = schema.links[i];\n      if (ldo.rel === \"describedby\") {\n        let template = new UriTemplate(ldo.href);\n        let allPresent = true;\n        let j = 0, ll = template.varNames.length;\n        for (j = 0; j < ll; j++) {\n          if (!(template.varNames[j] in data)) {\n            allPresent = false;\n            break;\n          }\n        }\n        if (allPresent) {\n          let schemaUrl = template.fillFromObject(data);\n          let subSchema = {\"$ref\": schemaUrl};\n          if (error = this.validateAll(data, subSchema, [], [\"links\", i], dataPointerPath)) {\n            return error;\n          }\n        }\n      }\n    }\n  };\n};\n\nexport default ValidatorContext = ValidatorContext;\n","// CollectionIterator\n// ------------------\n\n// This \"enum\" defines the three possible kinds of values which can be emitted\n// by a CollectionIterator that correspond to the values(), keys() and entries()\n// methods on Collection, respectively.\nconst ITERATOR_VALUES = 1;\nconst ITERATOR_KEYS = 2;\nconst ITERATOR_KEYSVALUES = 3;\n\n/** A CollectionIterator implements JavaScript's Iterator protocol, allowing the\n * use of `for of` loops in modern browsers and interoperation between\n * Collection and other JavaScript functions and third-party libraries\n * which can operate on Iterables.\n */\nclass CollectionIterator {\n  constructor(collection, kind) {\n    this._collection = collection;\n    this._kind = kind;\n    this._index = 0;\n  };\n\n  // All Iterators should themselves be Iterable.\n  /* ???\n  if ($$iterator) {\n    CollectionIterator.prototype[$$iterator] = function() {\n      return this;\n    };\n  }*/\n\n  /**\n   * Next model in collection<br/>\n   * Once exhausted, remove the reference to the collection so future\n   * calls to the next method always return done.\n   */\n  next() {\n    if (this._collection) {\n      // Only continue iterating if the iterated collection is long enough.\n      if (this._index < this._collection.length) {\n        const model = this._collection.at(this._index);\n        this._index++;\n\n        // Construct a value depending on what kind of values should be iterated.\n        let value;\n        if (this._kind === ITERATOR_VALUES) {\n          value = model;\n        } else {\n          const id = this._collection.modelId(model.attributes);\n          if (this._kind === ITERATOR_KEYS) {\n            value = id;\n          } else { // ITERATOR_KEYSVALUES\n            value = [id, model];\n          }\n        }\n        return {value: value, done: false};\n      }\n\n      // Once exhausted, remove the reference to the collection so future\n      // calls to the next method always return done.\n      this._collection = void 0;\n    }\n    return {value: void 0, done: true};\n  };\n};\n\nexport default CollectionIterator;\n","import AbstractModel from \"./model/abstractModel.js\";\nimport AbstractCollection from \"./collection/collection.js\";\nimport CollectionIterator from \"./collection/iterator.js\";\n\nmodule.exports.AbstractModel = AbstractModel;\nmodule.exports.AbstractCollection = AbstractCollection;\nmodule.exports.CollectionIterator = CollectionIterator;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for function metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_BOUND_FLAG = 4,\n    CURRY_FLAG = 8,\n    CURRY_RIGHT_FLAG = 16,\n    PARTIAL_FLAG = 32,\n    PARTIAL_RIGHT_FLAG = 64,\n    ARY_FLAG = 128,\n    REARG_FLAG = 256,\n    FLIP_FLAG = 512;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991,\n    MAX_INTEGER = 1.7976931348623157e+308,\n    NAN = 0 / 0;\n\n/** Used to associate wrap methods with their bit flags. */\nvar wrapFlags = [\n  ['ary', ARY_FLAG],\n  ['bind', BIND_FLAG],\n  ['bindKey', BIND_KEY_FLAG],\n  ['curry', CURRY_FLAG],\n  ['curryRight', CURRY_RIGHT_FLAG],\n  ['flip', FLIP_FLAG],\n  ['partial', PARTIAL_FLAG],\n  ['partialRight', PARTIAL_RIGHT_FLAG],\n  ['rearg', REARG_FLAG]\n];\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to match wrap detail comments. */\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n    reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n    reSplitDetails = /,? & /;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      result++;\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/* Used to set `toString` methods. */\nvar defineProperty = (function() {\n  var func = getNative(Object, 'defineProperty'),\n      name = getNative.name;\n\n  return (name && name.length > 2) ? func : undefined;\n}());\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & ARY_FLAG,\n      isBind = bitmask & BIND_FLAG,\n      isBindKey = bitmask & BIND_KEY_FLAG,\n      isCurried = bitmask & (CURRY_FLAG | CURRY_RIGHT_FLAG),\n      isFlip = bitmask & FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n  if (!(bitmask & CURRY_BOUND_FLAG)) {\n    bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n  }\n\n  var result = wrapFunc(func, bitmask, thisArg, newPartials, newHolders, newPartialsRight, newHoldersRight, argPos, ary, arity);\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *  The bitmask may be composed of the following flags:\n *     1 - `_.bind`\n *     2 - `_.bindKey`\n *     4 - `_.curry` or `_.curryRight` of a bound function\n *     8 - `_.curry`\n *    16 - `_.curryRight`\n *    32 - `_.partial`\n *    64 - `_.partialRight`\n *   128 - `_.rearg`\n *   256 - `_.ary`\n *   512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] == null\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (CURRY_FLAG | CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(CURRY_FLAG | CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == CURRY_FLAG || bitmask == CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  return setWrapToString(result, func, bitmask);\n}\n\n/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getHolder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Extracts wrapper details from the `source` body comment.\n *\n * @private\n * @param {string} source The source to inspect.\n * @returns {Array} Returns the wrapper details.\n */\nfunction getWrapDetails(source) {\n  var match = source.match(reWrapDetails);\n  return match ? match[1].split(reSplitDetails) : [];\n}\n\n/**\n * Inserts wrapper `details` in a comment at the top of the `source` body.\n *\n * @private\n * @param {string} source The source to modify.\n * @returns {Array} details The details to insert.\n * @returns {string} Returns the modified source.\n */\nfunction insertWrapDetails(source, details) {\n  var length = details.length,\n      lastIndex = length - 1;\n\n  details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n  details = details.join(length > 2 ? ', ' : ' ');\n  return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\n/**\n * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n * with wrapper details in a comment at the top of the source body.\n *\n * @private\n * @param {Function} wrapper The function to modify.\n * @param {Function} reference The reference function.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Function} Returns `wrapper`.\n */\nvar setWrapToString = !defineProperty ? identity : function(wrapper, reference, bitmask) {\n  var source = (reference + '');\n  return defineProperty(wrapper, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)))\n  });\n};\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Updates wrapper `details` based on `bitmask` flags.\n *\n * @private\n * @returns {Array} details The details to modify.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Array} Returns `details`.\n */\nfunction updateWrapDetails(details, bitmask) {\n  arrayEach(wrapFlags, function(pair) {\n    var value = '_.' + pair[0];\n    if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n      details.push(value);\n    }\n  });\n  return details.sort();\n}\n\n/**\n * Creates a function that invokes `func` with the `this` binding of `thisArg`\n * and `partials` prepended to the arguments it receives.\n *\n * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for partially applied arguments.\n *\n * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n * property of bound functions.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * function greet(greeting, punctuation) {\n *   return greeting + ' ' + this.user + punctuation;\n * }\n *\n * var object = { 'user': 'fred' };\n *\n * var bound = _.bind(greet, object, 'hi');\n * bound('!');\n * // => 'hi fred!'\n *\n * // Bound with placeholders.\n * var bound = _.bind(greet, object, _, '!');\n * bound('hi');\n * // => 'hi fred!'\n */\nvar bind = baseRest(function(func, thisArg, partials) {\n  var bitmask = BIND_FLAG;\n  if (partials.length) {\n    var holders = replaceHolders(partials, getHolder(bind));\n    bitmask |= PARTIAL_FLAG;\n  }\n  return createWrap(func, bitmask, thisArg, partials, holders);\n});\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n// Assign default placeholders.\nbind.placeholder = {};\n\nmodule.exports = bind;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__13__;","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","module.exports = __WEBPACK_EXTERNAL_MODULE__15__;","import { AugmentedObject } from \"next-core-object\";\nimport { extend, uniqueId, isString, isFunction, some, splice, sortObjects } from \"next-core-utilities\";\nimport AbstractModel from \"../model/abstractModel.js\";\nimport { ValidationFramework } from \"next-core-validation\";\nimport CollectionIterator from \"./iterator.js\";\n\nconst findModelByMatchingProperties = (set, properties) => {\n  return set.filter( (entry) => {\n    return Object.keys(properties).every( (key) => {\n      return entry._attributes[key] === properties[key];\n    });\n  });\n};\n\nconst _clone = require(\"lodash.clone\");\n\n// Default options for `Collection#set`.\nconst setOptions = {\n  add: true,\n  remove: true,\n  merge: true\n};\n\nconst addOptions = {\n  add: true,\n  remove: false\n};\n\n/**\n * Abstract Augmented Collection <br/>\n * Supports: <ul>\n * <li>Validation and Schemas</li>\n * <li>Security</li>\n * </ul>\n * @extends Object\n */\nclass AbstractCollection extends AugmentedObject {\n  constructor(models, options) {\n    super(options);\n\n    this.length = 0;\n    this.models = [];\n    this._byId = {};\n    this.schema = null;\n    this.validationMessages = {\n      valid: true\n    };\n\n    if (!options) {\n      options = {};\n    }\n    this.preinitialize(models, options);\n    if (options.model) {\n      this.model = options.model;\n    }\n    if (options.comparator !== void 0) {\n      this.comparator = options.comparator;\n    }\n    this._reset();\n    this.initialize(models, options);\n    if (models) {\n      // used to use reset but this collection never existed\n      this.add(models, extend({silent: true}, options));\n    }\n    if (!this.model) {\n      this.model = new AbstractModel();\n    }\n  };\n\n  /**\n   * Schema property\n   * @property {object} schema The JSON schema from this collection\n   */\n\n  /**\n   * Validation Message property\n   * @property {object} validationMessages The property holding validation message data\n   */\n\n  preinitialize(models, options) {\n  };\n\n  initialize(models, options) {\n  };\n\n  /** The JSON representation of a Collection is an array of the\n   * models\" attributes.\n   */\n  toJSON() {\n    //return this.map( (model) => { return model.toJSON(options); });\n    let i = 0;\n    const out = [], l = this.models.length;\n    for (i = 0; i < l; i++) {\n      out[i] = this.models[i].toJSON();\n    }\n    return out;\n  };\n\n  /*map(collection, interatee) {\n    return _map(collection, interatee);\n  };*/\n\n  /**\n   * Add a model, or list of models to the set. `models` may be\n   * Models or raw JavaScript objects to be converted to Models, or any\n   * combination of the two.\n   */\n  add(models, options) {\n    return this.set(models, extend({ merge: false }, options, addOptions));\n  };\n\n  /** Remove a model, or a list of models from the set.\n  */\n  remove(models, options) {\n    options = extend({}, options);\n    const singular = Array.isArray(models);\n    models = singular ? [models] : models.slice();\n    let removed = this._removeModels(models, options);\n    if (!options.silent && removed.length) {\n      options.changes = {added: [], merged: [], removed: removed};\n      this.trigger(\"update\", this, options);\n    }\n    return singular ? removed[0] : removed;\n  };\n\n  /** Update a collection by `set`-ing a new list of models, adding new ones,\n   * removing models that are no longer present, and merging models that\n   * already exist in the collection, as necessary. Similar to **Model#set**,\n   * the core operation for updating the data contained by the collection.\n   */\n  set(models, options) {\n    if (models === null) {\n      return;\n    }\n\n    options = extend({}, setOptions, options);\n    if (options.parse && !this._isModel(models)) {\n      models = this.parse(models, options) || [];\n    }\n\n    //console.debug(\"collection.add: models\", models);\n\n    let singular = !Array.isArray(models);\n    models = singular ? [models] : models.slice();\n\n    //console.debug(\"collection.add: singular\", singular);\n\n    let at = options.at;\n    if (at != null) at = +at;\n    if (at > this.length) at = this.length;\n    if (at < 0) at += this.length + 1;\n\n    let set = [];\n    let toAdd = [];\n    let toMerge = [];\n    let toRemove = [];\n    let modelMap = {};\n\n    let add = options.add;\n    let merge = options.merge;\n    let remove = options.remove;\n\n    //console.debug(\"collection.add: options add\", add);\n    //console.debug(\"collection.add: options merge\", merge);\n    //console.debug(\"collection.add: options remove\", remove);\n\n    let sort = false;\n    let sortable = this.comparator && at == null && options.sort !== false;\n    let sortAttr = isString(this.comparator) ? this.comparator : null;\n\n    // Turn bare objects into model references, and prevent invalid models\n    // from being added.\n    let model, i;\n    const l = models.length;\n\n    //console.debug(\"collection.add: num models\", l);\n\n    for (i = 0; i < l; i++) {\n      model = models[i];\n\n      //console.debug(\"collection.add: model\", i, model);\n\n      // If a duplicate is found, prevent it from being added and\n      // optionally merge it into the existing model.\n      let existing = this.get(model);\n\n      //console.debug(\"collection.add: existing\", i, existing);\n      if (existing) {\n        if (merge && model !== existing) {\n          let attrs = this._isModel(model) ? model._attributes : model;\n          if (options.parse) attrs = existing.parse(attrs, options);\n          existing.set(attrs, options);\n          toMerge.push(existing);\n          if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n        }\n        if (!modelMap[existing.cid]) {\n          modelMap[existing.cid] = true;\n          set.push(existing);\n        }\n        models[i] = existing;\n\n      // If this is a new, valid model, push it to the `toAdd` list.\n      } else if (add) {\n        model = models[i] = this._prepareModel(model, options);\n\n        //console.debug(\"collection.add: add model\", i, model);\n\n        if (model) {\n          toAdd.push(model);\n          this._addReference(model, options);\n          modelMap[model.cid] = true;\n          set.push(model);\n        }\n      }\n    }\n\n    //console.debug(\"collection.add: set models\", set);\n    //console.debug(\"collection.add: toAdd models\", toAdd);\n    //console.debug(\"collection.add: toMerge models\", toMerge);\n\n    // Remove stale models.\n    if (remove) {\n      for (i = 0; i < this.length; i++) {\n        model = this.models[i];\n        if (!modelMap[model.cid]) toRemove.push(model);\n      }\n      if (toRemove.length) this._removeModels(toRemove, options);\n    }\n\n    // See if sorting is needed, update `length` and splice in new models.\n    let orderChanged = false;\n    let replace = !sortable && add && remove;\n    if (set.length && replace) {\n      orderChanged = this.length !== set.length || some(this.models, (m, index) => {\n        return m !== set[index];\n      });\n      this.models.length = 0;\n      splice(this.models, set, 0);\n      this.length = this.models.length;\n    } else if (toAdd.length) {\n      if (sortable) {\n        sort = true;\n      }\n      splice(this.models, toAdd, at == null ? this.length : at);\n      this.length = this.models.length;\n    }\n\n    // Silently sort the collection if appropriate.\n    if (sort) this.sort({silent: true});\n\n    // Unless silenced, it\"s time to fire all appropriate add/sort/update events.\n    if (!options.silent) {\n      for (i = 0; i < toAdd.length; i++) {\n        if (at != null) options.index = at + i;\n        model = toAdd[i];\n        model.trigger(\"add\", model, this, options);\n      }\n      if (sort || orderChanged) this.trigger(\"sort\", this, options);\n      if (toAdd.length || toRemove.length || toMerge.length) {\n        options.changes = {\n          added: toAdd,\n          removed: toRemove,\n          merged: toMerge\n        };\n        this.trigger(\"update\", this, options);\n      }\n    }\n\n    //console.debug(\"collection.add: finished models\", this.toJSON());\n\n    // Return the added (or merged) model (or models).\n    return singular ? models[0] : models;\n  };\n\n  /** When you have more items than you want to add or remove individually,\n   * you can reset the entire set with a new list of models, without firing\n   * any granular `add` or `remove` events. Fires `reset` when finished.\n   * Useful for bulk operations and optimizations.\n   */\n  reset(models, options) {\n    options = options ? _clone(options) : {};\n    for (let i = 0; i < this.models.length; i++) {\n      this._removeReference(this.models[i], options);\n    }\n    options.previousModels = this.models;\n    this._reset();\n    models = this.add(models, extend({silent: true}, options));\n    if (!options.silent) this.trigger(\"reset\", this, options);\n    return models;\n  };\n\n  /** Add a model to the end of the collection.\n  */\n  push(model, options) {\n    return this.add(model, extend({at: this.length}, options));\n  };\n\n  /** Remove a model from the end of the collection.\n   */\n  pop(options) {\n    const model = this.at(this.length - 1);\n    return this.remove(model, options);\n  };\n\n  /** Add a model to the beginning of the collection.\n   */\n  unshift(model, options) {\n    return this.add(model, extend({at: 0}, options));\n  };\n\n  /** Remove a model from the beginning of the collection.\n   */\n  shift(options) {\n    const model = this.at(0);\n    return this.remove(model, options);\n  };\n\n  /** Slice out a sub-array of models from the collection.\n   */\n  slice(...args) {\n    return this.models.slice(args);\n  };\n\n  /** Get a model from the set by id, cid, model object with id or cid\n   * properties, or an attributes object that is transformed through modelId.\n   */\n  get(obj) {\n    //console.debug(\"get\", obj);\n\n    if (obj == null) {\n      return void 0;\n    }\n\n    /*console.debug(\"_byId\", (this._byId[obj] ||\n      this._byId[this.modelId(this._isModel(obj) ? obj._attributes : obj)] ||\n      obj.cid && this._byId[obj.cid]));*/\n\n    return this._byId[obj] ||\n      this._byId[this.modelId(this._isModel(obj) ? obj._attributes : obj)] ||\n      obj.cid && this._byId[obj.cid];\n  };\n\n  /** Returns `true` if the model is in the collection.\n   */\n  has(obj) {\n    return (this.get(obj) !== null);\n  };\n\n  /** Get the model at the given index.\n   */\n  at(index) {\n    if (index < 0) {\n      index += this.length;\n    }\n    return this.models[index];\n  };\n\n  /** find the model that matches these properties\n   * @param {object} attrs properties to match\n   * @returns {Augmented.AbstractModel} model that matched\n   */\n  find(attrs) {\n    const results = findModelByMatchingProperties(this.models, attrs);\n    if (results && results.length > 0) {\n      return results[0];\n    }\n    return null;\n  };\n\n  /** filter the models that match these properties\n   * @param {object} attrs properties to match\n   * @returns {array} models that matched\n   */\n  filter(attrs) {\n    return findModelByMatchingProperties(this.models, attrs);\n  };\n\n  /** Return models with matching attributes. Useful for simple cases of `filter`.\n    * @param {object} attrs properties to match\n    * @returns {Augmented.AbstractModel|array} models that matched\n   */\n  where(attrs, first) {\n    if (first) {\n      return this.find(attrs);\n    }\n    return this.filter(attrs);\n  };\n\n  /** Return the first model with matching attributes. Useful for simple cases\n   * of `find`.\n   */\n  findWhere(attrs) {\n    return this.where(attrs, true);\n  };\n\n  /** Force the collection to re-sort itself. You don\"t need to call this under\n   * normal circumstances, as the set will maintain sort order as each item\n   * is added.\n   */\n  sort(options) {\n    let comparator = this.comparator;\n    if (!comparator) throw new Error(\"Cannot sort a set without a comparator\");\n    options || (options = {});\n\n    let length = comparator.length;\n    if (isFunction(comparator)) comparator = comparator.bind(this);\n\n    // Run sort based on type of `comparator`.\n    if (length === 1 || isString(comparator)) {\n      this.models = this.sortBy(comparator);\n    } else {\n      this.models.sort(comparator);\n    }\n    if (!options.silent) this.trigger(\"sort\", this, options);\n    return this;\n  };\n\n  /** Pluck an attribute from each model in the collection.\n   */\n  pluck(attr) {\n    let i = 0;\n    const out = [], l = this.models.length;\n    for (i = 0; i < l; i++) {\n      out[i] = this.models[i].toJSON()[attr];\n    }\n    return out;\n    //return this.map(attr + \"\");\n  };\n\n  /**\n   * Fetch the collection\n   */\n  fetch(options) {\n  };\n\n  /** Create a new instance of a model in this collection. Add the model to the\n   * collection immediately, unless `wait: true` is passed, in which case we\n   * wait for the server to agree.\n   */\n  create(model, options) {\n    options = options ? _clone(options) : {};\n    let wait = options.wait;\n    model = this._prepareModel(model, options);\n    if (!model) return false;\n    if (!wait) this.add(model, options);\n    let collection = this;\n    let success = options.success;\n    options.success = (m, resp, callbackOpts) => {\n      if (wait) collection.add(m, callbackOpts);\n      if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n    };\n    model.save(null, options);\n    return model;\n  };\n\n  /** **parse** converts a response into a list of models to be added to the\n   * collection. The default implementation is just to pass it through.\n   */\n  parse(resp, options) {\n    return resp;\n  };\n\n  /** Create a new collection with an identical list of models as this one.\n   */\n  clone() {\n    return new this.constructor(this.models, {\n      model: this.model,\n      comparator: this.comparator\n    });\n  };\n\n  /** Define how to uniquely identify models in the collection.\n   */\n  modelId(attrs) {\n    if (attrs && this.model && this.model.idAttribute) {\n      return attrs[this.model.idAttribute || \"id\"];\n    } else {\n      return \"id\";\n    }\n  };\n\n  /** Get an iterator of all models in this collection.\n   */\n  values() {\n    return new CollectionIterator(this, ITERATOR_VALUES);\n  };\n\n  /** Get an iterator of all model IDs in this collection.\n   */\n  keys() {\n    return new CollectionIterator(this, ITERATOR_KEYS);\n  };\n\n  /** Get an iterator of all [ID, model] tuples in this collection.\n   */\n  entries() {\n    return new CollectionIterator(this, ITERATOR_KEYSVALUES);\n  };\n\n  /**\n   * supportsValidation - Returns True if this collection supports validation\n   * @returns {boolean} Returns True if this collection supports validation\n   */\n  supportsValidation() {\n    const ret = (this.schema && this.schema !== null && this.schema !== {});\n    return (ret) ? true : false;\n  };\n\n  /**\n   * isValid - Returns True if this collection is valid\n   * @returns {boolean} Returns True if this collection is valid\n   */\n  isValid() {\n    return (this.validationMessages) ? this.validationMessages.valid : true;\n  };\n\n  /**\n   * getValidationMessages - Returns the validation messages\n   * @returns {array} Returns the message is an array of objects.\n   */\n  getValidationMessages() {\n    return (this.validationMessages && this.validationMessages.messages) ? this.validationMessages.messages : [];\n  };\n\n  /**\n   * Validates the collection\n   * @returns {array} Returns array of message from validation\n   */\n  validate() {\n    if (this.supportsValidation()) {\n      // validate from Validator\n      let messages = [];\n      this.validationMessages.messages = messages;\n      this.validationMessages.valid = true;\n      const a = this.toJSON(), l = (a && Array.isArray(a)) ? a.length : 0;\n      let i = 0;\n      if (!this._validationFramework) {\n        this._validationFramework = new ValidationFramework();\n      }\n      const v = this._validationFramework;\n\n      //console.debug(\"AUGMENTED: Collection Validate: Beginning with \" + l + \" models.\");\n      for (i = 0; i < l; i++) {\n        messages[i] = v.validate(a[i], this.schema);\n        if (!messages[i].valid) {\n          this.validationMessages.valid = false;\n        }\n      }\n\n      //logger.debug(\"AUGMENTED: Collection Validate: Completed isValid \" + this.validationMessages.valid);\n    } else {\n      this.validationMessages.valid = true;\n    }\n    return this.validationMessages;\n  };\n\n  /**\n   * Collecion.sync\n   */\n  sync(method, model, options) {\n  };\n\n  /**\n   * Collection.save - Saves the collection as a \"create\"\n   */\n  save(options) {\n    this.sync(\"create\", this, options);\n  };\n\n  /**\n   * Collection.update - Updates the collection as an \"update\"\n   */\n  update(options) {\n    this.sync(\"update\", this, options);\n  };\n\n  /**\n   * Collection.remove - Remove from the collection as a \"delete\"\n   */\n  remove(options) {\n    this.sync(\"delete\", this, options);\n  };\n\n  /**\n   * sortByKey - Sorts the collection by a property key\n   * @param {object} key The key to sort by\n   */\n  sortByKey(key) {\n    if (key) {\n      const data = this.toJSON();\n      if (data) {\n        const sorted = sortObjects(data, key);\n        this.reset(sorted);\n      }\n    }\n  };\n\n  /**\n   * isEmpty - returns true is the collection is empty\n   * @returns {boolean} returns true is the collection is empty\n   */\n  isEmpty() {\n    return (this.length === 0);\n  };\n  /**\n   * Collection.size - returns the size of the collection\n   * @returns {number} returns the size of the collection\n   */\n  size() {\n    return this.length;\n  };\n\n  /**\n   * toString - returns the collection data as a string\n   * @returns {string} returns the collection data as a string\n   */\n  toString() {\n    let ret = {};\n    try {\n      ret = JSON.stringify(this.toJSON());\n    } catch(e) {\n      console.error(e);\n    }\n    return ret;\n  };\n\n  /** Private method to reset all internal state. Called when the collection\n   * is first initialized or reset.\n   * @private\n   */\n  _reset() {\n    this.length = 0;\n    this.models = [];\n    this._byId  = {};\n  };\n\n  // Prepare a hash of attributes (or other model) to be added to this\n  // collection.\n  _prepareModel(attrs, options) {\n    if (this._isModel(attrs)) {\n      if (!attrs.collection) attrs.collection = this;\n      return attrs;\n    }\n    options = options ? _clone(options) : {};\n    options.collection = this;\n    const model = new AbstractModel(attrs, options); // used to be this.model, may be a problem if a custom model is passed.\n    if (!model.validationError) {\n      return model;\n    }\n    this.trigger(\"invalid\", this, model.validationError, options);\n    return false;\n  };\n\n  // Internal method called by both remove and set.\n  _removeModels(models, options) {\n    let removed = [];\n    for (let i = 0; i < models.length; i++) {\n      let model = this.get(models[i]);\n      if (!model) continue;\n\n      let index = this.at(model);\n      this.models.splice(index, 1);\n      this.length--;\n\n      // Remove references before triggering \"remove\" event to prevent an\n      // infinite loop. #3693\n      delete this._byId[model.cid];\n      let id = this.modelId(model._attributes);\n      if (id != null) delete this._byId[id];\n\n      if (!options.silent) {\n        options.index = index;\n        model.trigger(\"remove\", model, this, options);\n      }\n\n      removed.push(model);\n      this._removeReference(model, options);\n    }\n    return removed;\n  };\n\n  // Method for checking whether an object should be considered a model for\n  // the purposes of adding to the collection.\n  _isModel(model) {\n    return model instanceof AbstractModel;\n  };\n\n  // Internal method to create a model's ties to a collection.\n  _addReference(model, options) {\n    this._byId[model.cid] = model;\n    let id = this.modelId(model._attributes);\n    if (id != null) this._byId[id] = model;\n    model.on(\"all\", this._onModelEvent, this);\n  };\n\n  // Internal method to sever a model's ties to a collection.\n  _removeReference(model, options) {\n    delete this._byId[model.cid];\n    let id = this.modelId(model._attributes);\n    if (id != null) delete this._byId[id];\n    if (this === model.collection) delete model.collection;\n    model.off(\"all\", this._onModelEvent, this);\n  };\n\n  // Internal method called every time a model in the set fires an event.\n  // Sets need to update their indexes when models change ids. All other\n  // events simply proxy through. \"add\" and \"remove\" events that originate\n  // in other collections are ignored.\n  _onModelEvent(event, model, collection, options) {\n    if (model) {\n      if ((event === \"add\" || event === \"remove\") && collection !== this) return;\n      if (event === \"destroy\") this.remove(model, options);\n      if (event === \"change\") {\n        let prevId = this.modelId(model.previousAttributes());\n        let id = this.modelId(model._attributes);\n        if (prevId !== id) {\n          if (prevId != null) delete this._byId[prevId];\n          if (id != null) this._byId[id] = model;\n        }\n      }\n    }\n    this.trigger.apply(this, arguments);\n  };\n};\n\nexport default AbstractCollection;\n"],"sourceRoot":""}